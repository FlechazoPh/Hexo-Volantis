{"version":3,"sources":["js/plugins/rightMenus.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_regeneratorRuntime","exports","Op","Object","hasOwn","hasOwnProperty","defineProperty","key","desc","value","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","RightMenus","defaultEvent","defaultGroup","messageRightMenu","volantis","GLOBAL_CONFIG","plugins","message","enable","rightmenu","corsAnywhere","rightmenus","options","urlRegx","imgRegx","initialMenu","fun","init","readClipboard","_readClipboard","_callee","clipboardText","_context","navigator","permissions","query","t0","clipboard","readText","window","clipboardRead","writeClipText","text","writeText","writeClipImg","_writeClipImg","_callee2","link","success","image","_context2","Image","crossOrigin","addEventListener","canvas","document","createElement","getContext","width","height","drawImage","toBlob","blob","write","ClipboardItem","e","src","concat","_x","_x2","_x3","insertAtCaret","elemt","startPos","selectionStart","endPos","selectionEnd","selection","focus","createRange","scrollTop","substring","rightMenuConfig","_rightMenuWrapper","getElementById","_rightMenuContent","_rightMenuList","querySelectorAll","_rightMenuListWithHr","_readBkg","_menuMusic","_backward","querySelector","_toggle","_forward","globalData","mouseEvent","isInputBox","selectText","inputValue","isLink","linkUrl","isMediaLink","mediaLinkUrl","isImage","isArticle","pathName","isReadClipboard","isShowMusic","statusCheck","globalDataBackup","assign","initEvent","elementAppend","contextmenu","menuEvent","parentNode","removeChild","readBkg","className","id","body","appendChild","menuPosition","event","mouseClientX","clientX","mouseClientY","clientY","screenWidth","documentElement","clientWidth","screenHeight","clientHeight","style","display","menuControl","menuWidth","offsetWidth","menuHeight","offsetHeight","showLeft","showTop","left","top","notice","menuNotic","console","hideMenu","globalDataSet","item","nodeName","firstElementChild","groupName","getAttribute","itemEvent","articleShowLink","every","start","elementHrItem","hide","nextElementSibling","_volantis$GLOBAL_CONF","getSelection","toString","target","tagName","toLowerCase","href","test","currentSrc","location","pathname","aplayer","RightMenuAplayer","APlayer","player","musicAlwaysShow","status","oncontextmenu","ctrlKey","stopPropagation","preventDefault","removeEventListener","eventName","RightMenusFunction","debug","VolantisApp","icon","iconPrefix","time","onclick","aplayerBackward","aplayerToggle","aplayerForward","NoticeRightMenu","localStorage","getItem","displayMode","setItem","copyText","utilWriteClipText","messageCopyright","copyLink","copyAll","select","copyPaste","_callee3","_context3","copyCut","statrPos","inputStr","copyImg","hideMessage","printMode","question","printHtml","isReadModel","readMode","DOMController","setAttribute","removeList","setStyleList","setTimeout","print","innerHTML","reload","ScrollReveal","clean","setStyle","fadeToggleList","toggleClassList","backgroundColor","hasClass","freeze","requestAnimationFrame","readyState"],"mappings":"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","file":"../../../js/plugins/rightMenus.js","sourcesContent":["\nconst RightMenus = {\n  defaultEvent: ['copyText', 'copyLink', 'copyPaste', 'copyAll', 'copyCut', 'copyImg', 'printMode', 'readMode'],\n  defaultGroup: ['navigation', 'inputBox', 'seletctText', 'elementCheck', 'elementImage', 'articlePage'],\n  messageRightMenu: volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable,\n  corsAnywhere: volantis.GLOBAL_CONFIG.plugins.rightmenus.options.corsAnywhere,\n  urlRegx: /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/,\n  imgRegx: /\\.(jpe?g|png|webp|svg|gif|jifi)(-|_|!|\\?|\\/)?.*$/,\n\n  /**\n   * 加载右键菜单\n   */\n  initialMenu: () => {\n    RightMenus.fun.init();\n  },\n\n  /**\n   * 读取剪切板\n   * @returns text\n   */\n  readClipboard: async () => {\n    let clipboardText;\n    const result = await navigator.permissions.query({ name: 'clipboard-read' });\n    switch (result.state) {\n      case 'granted':\n      case 'prompt':\n        clipboardText = await navigator.clipboard.readText()\n        break;\n      default:\n        window.clipboardRead = false;\n        break;\n    }\n    return clipboardText;\n  },\n\n  /**\n   * 写入文本到剪切板\n   * @param {String} text\n   */\n  writeClipText: text => {\n    return navigator.clipboard\n      .writeText(text)\n      .then(() => {\n        return Promise.resolve()\n      })\n      .catch(err => {\n        return Promise.reject(err)\n      })\n  },\n\n  /**\n   * 写入图片到剪切板\n   * @param {*} link\n   * @param {*} success\n   * @param {*} error\n   */\n  writeClipImg: async (link, success, error) => {\n    const image = new Image;\n    image.crossOrigin = \"Anonymous\";\n    image.addEventListener('load', () => {\n      let canvas = document.createElement(\"canvas\");\n      let context = canvas.getContext(\"2d\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      canvas.toBlob(blob => {\n        navigator.clipboard.write([\n          new ClipboardItem({ 'image/png': blob })\n        ]).then(e => {\n          success(e)\n        }).catch(e => {\n          error(e)\n        })\n      }, 'image/png')\n    }, false)\n    image.src = `${link}?(lll￢ω￢)`;\n  },\n\n  /**\n   * 粘贴文本到剪切板\n   * @param {*} elemt\n   * @param {*} value\n   */\n  insertAtCaret: (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n}\n\n/**\n * 事件处理区域\n */\nRightMenus.fun = (() => {\n  const rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenus;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _rightMenuList = document.querySelectorAll('#rightmenu-content li.menuLoad-Content'),\n    _rightMenuListWithHr = document.querySelectorAll('#rightmenu-content li, #rightmenu-content hr, #menuMusic'),\n    _readBkg = document.getElementById('read_bkg'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  // 公共数据\n  let globalData = {\n    mouseEvent: null,\n    isInputBox: false,\n    selectText: '',\n    inputValue: '',\n    isLink: false,\n    linkUrl: '',\n    isMediaLink: false,\n    mediaLinkUrl: '',\n    isImage: false,\n    isArticle: false,\n    pathName: '',\n    isReadClipboard: true,\n    isShowMusic: false,\n    statusCheck: false\n  }\n  const globalDataBackup = Object.assign({}, globalData);\n\n  /**\n   * 初始化监听事件处理\n   */\n  fn.initEvent = () => {\n    fn.elementAppend();\n    fn.contextmenu();\n    fn.menuEvent();\n  }\n\n  /**\n   * 预置元素设定\n   */\n  fn.elementAppend = () => {\n    // 阅读模式\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  /**\n   * 右键菜单位置设定\n   * @param {*} event\n   */\n  fn.menuPosition = (event) => {\n    try {\n      let mouseClientX = event.clientX;\n      let mouseClientY = event.clientY;\n      let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n      let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n      _rightMenuWrapper.style.display = 'block';\n      fn.menuControl(event);\n\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = `${showLeft}px`;\n      _rightMenuWrapper.style.top = `${showTop}px`;\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.menuNotic();\n    } catch (error) {\n      console.error(error);\n      fn.hideMenu();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 菜单项控制\n   * @param {*} event\n   */\n  fn.menuControl = (event) => {\n    fn.globalDataSet(event);\n    if (!!_menuMusic) _menuMusic.style.display = globalData.isShowMusic ? 'block' : 'none';\n    _rightMenuList.forEach(item => {\n      item.style.display = 'none';\n      const nodeName = item.firstElementChild.nodeName;\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      const itemEvent = item.firstElementChild.getAttribute('data-event');\n      if (globalData.statusCheck || globalData.isArticle) {\n        switch (groupName) {\n          case 'inputBox':\n            if (globalData.isInputBox) {\n              item.style.display = 'block';\n              if (itemEvent === 'copyCut' && !globalData.selectText) item.style.display = 'none';\n              if (itemEvent === 'copyAll' && !globalData.inputValue) item.style.display = 'none';\n              if (itemEvent === 'copyPaste' && !globalData.isReadClipboard) item.style.display = 'none';\n            }\n            break;\n          case 'seletctText':\n            if (!!globalData.selectText) item.style.display = 'block';\n            break;\n          case 'elementCheck':\n            if (globalData.isLink || globalData.isMediaLink) item.style.display = 'block';\n            break;\n          case 'elementImage':\n            if (globalData.isImage) item.style.display = 'block';\n            break;\n          case 'articlePage':\n            if (globalData.isArticle) item.style.display = 'block';\n            break;\n          default:\n            item.style.display = nodeName === 'A'\n              ? globalData.isArticle && !globalData.statusCheck && rightMenuConfig.options.articleShowLink\n                ? 'block'\n                : 'none'\n              : 'block';\n            break;\n        }\n      } else if (nodeName === 'A' || RightMenus.defaultGroup.every(item => { return groupName !== item })) {\n        item.style.display = 'block';\n      }\n    })\n\n    // 执行外部事件\n    volantis.mouseEvent = event;\n    volantis.rightmenu.method.handle.start()\n\n    // 过滤 HR 元素\n    let elementHrItem = { item: null, hide: true };\n    _rightMenuListWithHr.forEach((item) => {\n      if (item.nodeName === \"HR\") {\n        item.style.display = 'block';\n        if (!elementHrItem.item) {\n          elementHrItem.item = item;\n          return;\n        }\n        if (elementHrItem.hide || elementHrItem.item.nextElementSibling.nodeName === \"hr\") {\n          elementHrItem.item.style.display = 'none';\n        }\n        elementHrItem.item = item;\n        elementHrItem.hide = true;\n      } else {\n        if (item.style.display === 'block' && elementHrItem.hide) {\n          elementHrItem.hide = false;\n        }\n      }\n    })\n    if (!!elementHrItem.item && elementHrItem.hide) elementHrItem.item.style.display = 'none';\n  }\n\n  /**\n   * 元素状态判断/全局数据设置\n   * @param {*} event\n   */\n  fn.globalDataSet = (event) => {\n    globalData = Object.assign({}, globalDataBackup);\n    globalData.mouseEvent = event;\n    globalData.selectText = window.getSelection().toString();\n\n    // 判断是否为输入框\n    if (event.target.tagName.toLowerCase() === 'input' || event.target.tagName.toLowerCase() === 'textarea') {\n      globalData.isInputBox = true;\n      globalData.inputValue = event.target.value;\n    }\n\n    // 判断是否允许读取剪切板\n    if (globalData.isInputBox && window.clipboardRead === false) {\n      globalData.isReadClipboard = false;\n    }\n\n    // 判断是否包含链接\n    if (!!event.target.href && RightMenus.urlRegx.test(event.target.href)) {\n      globalData.isLink = true;\n      globalData.linkUrl = event.target.href;\n    }\n\n    // 判断是否包含媒体链接\n    if (!!event.target.currentSrc && RightMenus.urlRegx.test(event.target.currentSrc)) {\n      globalData.isMediaLink = true;\n      globalData.mediaLinkUrl = event.target.currentSrc;\n    }\n\n    // 判断是否为图片地址\n    if (globalData.isMediaLink && RightMenus.imgRegx.test(globalData.mediaLinkUrl)) {\n      globalData.isImage = true;\n    }\n\n    // 判断是否为文章页面\n    if (!!(document.querySelector('#post.article') || null)) {\n      globalData.isArticle = true;\n      globalData.pathName = window.location.pathname;\n    }\n\n    // 判断是否显示音乐控制器\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer?.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.options.musicAlwaysShow\n        || RightMenuAplayer.APlayer.status === 'play'\n        || RightMenuAplayer.APlayer.status === 'undefined') {\n        globalData.isShowMusic = true;\n      }\n    }\n\n    // 设定校验状态\n    if (!!globalData.selectText || globalData.isInputBox || globalData.isLink || globalData.isMediaLink) {\n      globalData.statusCheck = true;\n    }\n  }\n\n  /**\n   * 全局右键监听函数\n   */\n  fn.contextmenu = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.menuPosition(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n  }\n\n  /**\n   * 菜单项事件处理函数\n   */\n  fn.menuEvent = () => {\n    _rightMenuList.forEach(item => {\n      let eventName = item.firstElementChild.getAttribute('data-event');\n      const id = item.firstElementChild.getAttribute('id');\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      if (item.firstElementChild.nodeName === \"A\") return;\n      item.addEventListener('click', () => {\n        try {\n          if (RightMenus.defaultEvent.every(item => { return eventName !== item })) {\n            if (groupName === 'seletctText') {\n              RightMenusFunction[id](globalData.selectText)\n            } else if (groupName === 'elementCheck') {\n              RightMenusFunction[id](globalData.isLink ? globalData.linkUrl : globalData.mediaLinkUrl)\n            } else if (groupName === 'elementImage') {\n              RightMenusFunction[id](globalData.mediaLinkUrl)\n            } else {\n              RightMenusFunction[id]()\n            }\n          } else {\n            fn[eventName]()\n          }\n        } catch (error) {\n          if (volantis.GLOBAL_CONFIG.debug === \"rightMenus\") {\n            console.error({\n              id: id,\n              error: error,\n              globalData: globalData,\n              groupName: groupName,\n              eventName: eventName\n            });\n          }\n          if (RightMenus.messageRightMenu) {\n            VolantisApp.message('错误提示', error, {\n              icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n              time: '15000'\n            });\n          }\n        }\n      })\n    })\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  /**\n   * 隐藏菜单显示\n   */\n  fn.hideMenu = () => {\n    _rightMenuWrapper.style.display = null;\n    _rightMenuWrapper.style.left = null;\n    _rightMenuWrapper.style.top = null;\n  }\n\n  /**\n   * 右键菜单覆盖提示\n   */\n  fn.menuNotic = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (RightMenus.messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n        displayMode: 1,\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  fn.copyText = () => {\n    VolantisApp.utilWriteClipText(globalData.selectText)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyLink = () => {\n    VolantisApp.utilWriteClipText(globalData.linkUrl || globalData.mediaLinkUrl)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyAll = () => {\n    globalData.mouseEvent.target.select();\n  }\n\n  fn.copyPaste = async () => {\n    const result = await RightMenus.readClipboard() || '';\n    if (RightMenus.messageRightMenu && window.clipboardRead === false) {\n      VolantisApp.message('系统提示', '未授予剪切板读取权限！');\n    } else if (RightMenus.messageRightMenu && result === '') {\n      VolantisApp.message('系统提示', '仅支持复制文本内容！');\n    } else {\n      RightMenus.insertAtCaret(globalData.mouseEvent.target, result);\n    }\n  }\n\n  fn.copyCut = () => {\n    const statrPos = globalData.mouseEvent.target.selectionStart;\n    const endPos = globalData.mouseEvent.target.selectionEnd;\n    const inputStr = globalData.inputValue;\n    fn.copyText(globalData.selectText);\n    globalData.mouseEvent.target.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n    globalData.mouseEvent.target.selectionStart = statrPos;\n    globalData.mouseEvent.target.selectionEnd = statrPos;\n    globalData.mouseEvent.target.focus();\n  }\n\n  fn.copyImg = () => {\n    if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) {\n      VolantisApp.message('系统提示', '复制中，请等待。', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n      })\n    }\n    RightMenus.writeClipImg(globalData.mediaLinkUrl, e => {\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '图片复制成功！', {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n        });\n      }\n    }, (e) => {\n      console.error(e);\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '复制失败：' + e, {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n          time: 9000\n        });\n      }\n    })\n  }\n\n  fn.printMode = () => {\n    if (window.location.pathname === globalData.pathName) {\n      if (RightMenus.messageRightMenu) {\n        const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>'\n        VolantisApp.question('', message, { time: 9000 }, () => { fn.printHtml() })\n      } else {\n        fn.printHtml()\n      }\n    }\n  }\n\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readMode();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.removeList([\n      '.cus-article-bkg', '.iziToast-overlay', '.iziToast-wrapper', '.prev-next',\n      'footer', '#l_header', '#l_cover', '#l_side', '#comments', '#s-top', '#BKG',\n      '#rightmenu-wrapper', '.nav-tabs', '.parallax-mirror', '.new-meta-item.share', \n      '.new-meta-box', 'button.btn-copy', 'iframe'\n    ]);\n    DOMController.setStyleList([\n      ['body', 'backgroundColor', 'unset'], ['#l_main, .copyright.license', 'width', '100%'],  \n      ['#post', 'boxShadow', 'none'], ['#post', 'background', 'none'], ['#post', 'padding', '0'],  \n      ['h1', 'textAlign', 'center'], ['h1', 'fontWeight', '600'], ['h1', 'fontSize', '2rem'], ['h1', 'marginBottom', '20px'], \n      ['.tab-pane', 'display', 'block'], ['.tab-content', 'borderTop', 'none'], ['.highlight>table pre', 'whiteSpace', 'pre-wrap'], \n      ['.highlight>table pre', 'wordBreak', 'break-all'], ['.fancybox img', 'height', 'auto'], ['.fancybox img', 'weight', 'auto'], \n      ['.copyright.license', 'margin', '0'], ['.copyright.license', 'padding', '1.25em 20px'],  \n      ['figure.highlight, .copyright.license', 'display', 'inline-block'], \n    ]);\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  fn.readMode = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.setStyle('#l_header', 'opacity', 0);\n    DOMController.fadeToggleList([\n      document.querySelector('#l_cover'), document.querySelector('footer'),\n      document.querySelector('#s-top'), document.querySelector('.article-meta#bottom'),\n      document.querySelector('.prev-next'), document.querySelector('#l_side'),\n      document.querySelector('#comments'), \n    ]);\n    DOMController.toggleClassList([\n      [document.querySelector('#l_main'), 'common_read'], [document.querySelector('#l_main'), 'common_read_main'],\n      [document.querySelector('#l_body'), 'common_read'], [document.querySelector('#safearea'), 'common_read'],\n      [document.querySelector('h1'), 'common_read_h1'], [document.querySelector('#post'), 'post_read'],\n      [document.querySelector('#l_cover'), 'read_cover'], [document.querySelector('.widget.toc-wrapper'), 'post_read']\n    ]);\n    DOMController.setStyle('.copyright.license', 'margin', '15px 0');\n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      if (RightMenus.messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.options.iconPrefix + ' fa-book-reader',\n        displayMode: 1,\n        time: 5000\n      });\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readMode();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#post').removeEventListener('click', fn.readMode);\n      DOMController.setStyle('.prev-next', 'display', 'flex');\n      DOMController.setStyle('.copyright.license', 'margin', '15px -40px');\n    }\n  }\n\n  return {\n    init: fn.initEvent,\n    hideMenu: fn.hideMenu,\n    readMode: fn.readMode\n  }\n})()\n\nObject.freeze(RightMenus);\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenus.initialMenu();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenus.initialMenu();\n    })\n  }\n});\n"]}