{"version":3,"sources":["volantis-sw.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","_typeof","constructor","prototype","_toArray","_arrayWithHoles","_nonIterableRest","minLen","toString","slice","name","from","test","len","arr2","iter","_regeneratorRuntime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","prefix","cacheSuffixVersion","CACHE_NAME","PreCachlist","NPMMirror","NPMPackage","NPMPackageVersion","debug","handleFetch","_ref","_callee","event","url","_context","request","NetworkOnly","CacheFirst","CacheAlways","_x","cdn","gh","jsdelivr","fastly","gcore","testingcf","test1","combine","npm","unpkg","cdnjs","baomitu","bootcdn","bytedance","cdn_match_list","_console","console","color","black","red","green","yellow","blue","magenta","cyan","white","add","fi","_ref2","_ref3","first","other","concat","createlog","util","fun","log","_len","_key2","creategroup","groupCollapsed","_len2","_key3","colorUtils","bold","str","colorHash","wait","warn","ready","createChalk","_len3","_key5","strArr","firstToUpperCase","createChalkBg","_len4","_key6","createChalkGroup","_len5","_key7","chalk","group","end","groupEnd","bg","toLowerCase","replace","L","toUpperCase","logger","generate_uuid","c","r","Math","random","db","read","config","caches","open","cache","match","Request","encodeURIComponent","res","text","write","put","Response","compareVersion","a","b","v1","split","v2","max","num1","parseInt","num2","mirrors","getLocalVersion","_ref4","_callee2","_context2","t0","mirror_time","setNewestVersion","_ref5","_callee4","_context4","fetch","fetchAny","json","_ref6","_callee3","_context3","version","t1","t2","t3","_x2","stack","setInterval","_callee5","_context5","setTimeout","_callee6","_context6","installFunction","_ref9","_callee8","_context8","_ref10","_callee7","index","_context7","response","_x3","addEventListener","_ref11","_callee9","_context9","skipWaiting","waitUntil","_x4","_ref12","_callee10","_context10","all","map","includes","clients","claim","_x5","_ref13","_callee11","_context11","respondWith","_x6","_ref14","_callee12","_context12","URL","pathname","_x7","_ref15","_callee13","_context13","resp","CacheRuntime","_x8","_ref16","_callee14","_context14","_x9","matchCache","_ref17","_callee15","_context15","_x10","_x11","_CacheRuntime","_callee17","_context17","matchCDN","protocol","clone","_ref18","_callee16","req","nav","_ref19","saveData","effectiveType","urls","urlObj","pathType","pathTestRes","_key8","_iterator","_step","item","_type","_key9","_url","ext","contentType","_context16","navigator","connection","mozConnection","webkitConnection","RegExp","location","origin","fullPath","exec","getContentType","arrayBuffer","buffer","headers","_x12","endsWith","list","indexOf","progress","_x13","_progress","_callee18","_context18","status","createPromiseAny","any","promises","errs","AggregateError","p","controller","AbortController","signal","PromiseAll","abort"],"mappings":"AAAA,aAEA,SAASA,2BAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAAKK,4BAA4BP,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAEQ,OAAqB,CAAMN,IAAIF,EAAIE,GAAI,IAAIO,EAAI,EAAOC,EAAI,WAAc,EAAG,MAAO,CAAEC,EAAGD,EAAGE,EAAG,WAAe,OAAIH,GAAKT,EAAEQ,OAAe,CAAEK,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOd,EAAES,KAAQ,EAAGM,EAAG,SAAWC,GAAM,MAAMA,CAAI,EAAGC,EAAGP,EAAK,CAAE,MAAM,IAAIQ,UAAU,wIAA0I,CAAE,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAEV,EAAG,WAAeT,EAAKA,EAAGoB,KAAKtB,EAAI,EAAGY,EAAG,WAAe,IAAIW,EAAOrB,EAAGsB,OAAsC,OAA9BJ,EAAmBG,EAAKV,KAAaU,CAAM,EAAGR,EAAG,SAAWU,GAAOJ,GAAS,EAAMF,EAAMM,CAAK,EAAGR,EAAG,WAAe,IAAWG,GAAoC,MAAhBlB,EAAW,WAAWA,EAAW,WAAwC,CAAjC,QAAU,GAAImB,EAAQ,MAAMF,CAAK,CAAE,EAAK,CAE3+B,SAASO,QAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,UAAY,KAAKP,EAAKQ,KAAKC,MAAMT,EAAMG,EAAU,CAAE,OAAOH,CAAM,CAEpV,SAASU,cAAcC,GAAU,IAAK,IAAI/B,EAAI,EAAGA,EAAIgC,UAAUjC,OAAQC,IAAK,CAAE,IAAIiC,EAAS,MAAQD,UAAUhC,GAAKgC,UAAUhC,GAAK,CAAC,EAAGA,EAAI,EAAIiB,QAAQI,OAAOY,IAAS,GAAIC,SAAQ,SAAUC,GAAOC,gBAAgBL,EAAQI,EAAKF,EAAOE,GAAO,IAAKd,OAAOgB,0BAA4BhB,OAAOiB,iBAAiBP,EAAQV,OAAOgB,0BAA0BJ,IAAWhB,QAAQI,OAAOY,IAASC,SAAQ,SAAUC,GAAOd,OAAOkB,eAAeR,EAAQI,EAAKd,OAAOK,yBAAyBO,EAAQE,GAAO,GAAI,CAAE,OAAOJ,CAAQ,CAEzf,SAASK,gBAAgBI,EAAKL,EAAK9B,GAAiK,OAApJ8B,KAAOK,EAAOnB,OAAOkB,eAAeC,EAAKL,EAAK,CAAE9B,MAAOA,EAAOsB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO9B,EAAgBmC,CAAK,CAEhN,SAASG,mBAAmBC,GAAO,OAAOC,mBAAmBD,IAAQE,iBAAiBF,IAAQ9C,4BAA4B8C,IAAQG,oBAAsB,CAExJ,SAASA,qBAAuB,MAAM,IAAItC,UAAU,uIAAyI,CAE7L,SAASoC,mBAAmBD,GAAO,GAAIhD,MAAMC,QAAQ+C,GAAM,OAAOI,kBAAkBJ,EAAM,CAE1F,SAASK,QAAQT,GAAkC,OAAOS,QAAU,mBAAqBvD,QAAU,iBAAmBA,OAAOC,SAAW,SAAU6C,GAAO,cAAcA,CAAK,EAAI,SAAUA,GAAO,OAAOA,GAAO,mBAAqB9C,QAAU8C,EAAIU,cAAgBxD,QAAU8C,IAAQ9C,OAAOyD,UAAY,gBAAkBX,CAAK,EAAGS,QAAQT,EAAM,CAE/U,SAASY,SAASR,GAAO,OAAOS,gBAAgBT,IAAQE,iBAAiBF,IAAQ9C,4BAA4B8C,IAAQU,kBAAoB,CAEzI,SAASA,mBAAqB,MAAM,IAAI7C,UAAU,4IAA8I,CAEhM,SAASX,4BAA4BP,EAAGgE,GAAU,GAAKhE,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAOyD,kBAAkBzD,EAAGgE,GAAS,IAAIpD,EAAIkB,OAAO8B,UAAUK,SAAS3C,KAAKtB,GAAGkE,MAAM,GAAI,GAAiE,MAAnD,WAANtD,GAAkBZ,EAAE2D,cAAa/C,EAAIZ,EAAE2D,YAAYQ,MAAgB,QAANvD,GAAqB,QAANA,EAAoBP,MAAM+D,KAAKpE,GAAc,cAANY,GAAqB,2CAA2CyD,KAAKzD,GAAW6C,kBAAkBzD,EAAGgE,QAAzG,CAA7O,CAA+V,CAE/Z,SAASP,kBAAkBJ,EAAKiB,IAAkB,MAAPA,GAAeA,EAAMjB,EAAI7C,UAAQ8D,EAAMjB,EAAI7C,QAAQ,IAAK,IAAIC,EAAI,EAAG8D,EAAO,IAAIlE,MAAMiE,GAAM7D,EAAI6D,EAAK7D,IAAO8D,EAAK9D,GAAK4C,EAAI5C,GAAM,OAAO8D,CAAM,CAEtL,SAAShB,iBAAiBiB,GAAQ,GAAsB,oBAAXrE,QAAmD,MAAzBqE,EAAKrE,OAAOC,WAA2C,MAAtBoE,EAAK,cAAuB,OAAOnE,MAAM+D,KAAKI,EAAO,CAE7J,SAASV,gBAAgBT,GAAO,GAAIhD,MAAMC,QAAQ+C,GAAM,OAAOA,CAAK,CAEpE,SAASoB,sBAA2LA,oBAAsB,WAAiC,OAAOC,CAAS,EAAG,IAAIA,EAAU,CAAC,EAAGC,EAAK7C,OAAO8B,UAAWgB,EAASD,EAAGE,eAAgBC,EAAU,mBAAqB3E,OAASA,OAAS,CAAC,EAAG4E,EAAiBD,EAAQ1E,UAAY,aAAc4E,EAAsBF,EAAQG,eAAiB,kBAAmBC,EAAoBJ,EAAQK,aAAe,gBAAiB,SAASC,EAAOnC,EAAKL,EAAK9B,GAAS,OAAOgB,OAAOkB,eAAeC,EAAKL,EAAK,CAAE9B,MAAOA,EAAOsB,YAAY,EAAIc,cAAc,EAAIC,UAAU,IAAOF,EAAIL,EAAM,CAAE,IAAMwC,EAAO,CAAC,EAAG,GAA6F,CAAtF,MAAOjE,GAAOiE,EAAS,SAAgBnC,EAAKL,EAAK9B,GAAS,OAAOmC,EAAIL,GAAO9B,CAAO,CAAG,CAAE,SAASuE,EAAKC,EAASC,EAASC,EAAMC,GAAe,IAAIC,EAAiBH,GAAWA,EAAQ3B,qBAAqB+B,EAAYJ,EAAUI,EAAWC,EAAY9D,OAAO+D,OAAOH,EAAe9B,WAAYkC,EAAU,IAAIC,EAAQN,GAAe,IAAK,OAAOG,EAAUI,QAAU,SAAUV,EAASE,EAAMM,GAAW,IAAIG,EAAQ,iBAAkB,OAAO,SAAUC,EAAQC,GAAO,GAAI,cAAgBF,EAAO,MAAM,IAAIG,MAAM,gCAAiC,GAAI,cAAgBH,EAAO,CAAE,GAAI,UAAYC,EAAQ,MAAMC,EAAK,OAAOE,GAAc,CAAE,IAAKP,EAAQI,OAASA,EAAQJ,EAAQK,IAAMA,IAAO,CAAE,IAAIG,EAAWR,EAAQQ,SAAU,GAAIA,EAAU,CAAE,IAAIC,EAAiBC,EAAoBF,EAAUR,GAAU,GAAIS,EAAgB,CAAE,GAAIA,IAAmBE,EAAkB,SAAU,OAAOF,CAAgB,CAAE,CAAE,GAAI,SAAWT,EAAQI,OAAQJ,EAAQY,KAAOZ,EAAQa,MAAQb,EAAQK,SAAS,GAAI,UAAYL,EAAQI,OAAQ,CAAE,GAAI,mBAAqBD,EAAO,MAAMA,EAAQ,YAAaH,EAAQK,IAAKL,EAAQc,kBAAkBd,EAAQK,IAAM,KAAO,WAAaL,EAAQI,QAAUJ,EAAQe,OAAO,SAAUf,EAAQK,KAAMF,EAAQ,YAAa,IAAIa,EAASC,EAASzB,EAASE,EAAMM,GAAU,GAAI,WAAagB,EAAOE,KAAM,CAAE,GAAIf,EAAQH,EAAQjF,KAAO,YAAc,iBAAkBiG,EAAOX,MAAQM,EAAkB,SAAU,MAAO,CAAE3F,MAAOgG,EAAOX,IAAKtF,KAAMiF,EAAQjF,KAAQ,CAAE,UAAYiG,EAAOE,OAASf,EAAQ,YAAaH,EAAQI,OAAS,QAASJ,EAAQK,IAAMW,EAAOX,IAAM,CAAE,CAAG,CAAnqC,CAAqqCb,EAASE,EAAMM,GAAUF,CAAW,CAAE,SAASmB,EAASE,EAAIhE,EAAKkD,GAAO,IAAM,MAAO,CAAEa,KAAM,SAAUb,IAAKc,EAAG3F,KAAK2B,EAAKkD,GAA4D,CAAlD,MAAOhF,GAAO,MAAO,CAAE6F,KAAM,QAASb,IAAKhF,EAAO,CAAE,CAAEuD,EAAQW,KAAOA,EAAM,IAAIoB,EAAmB,CAAC,EAAG,SAASd,IAAa,CAAE,SAASuB,IAAqB,CAAE,SAASC,IAA8B,CAAE,IAAIC,EAAoB,CAAC,EAAGhC,EAAOgC,EAAmBrC,GAAgB,WAAc,OAAOsC,IAAM,IAAI,IAAIC,EAAWxF,OAAOyF,eAAgBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAAOD,GAA2BA,IAA4B7C,GAAMC,EAAOtD,KAAKkG,EAAyBzC,KAAoBqC,EAAoBI,GAA0B,IAAIE,EAAKP,EAA2BvD,UAAY+B,EAAU/B,UAAY9B,OAAO+D,OAAOuB,GAAoB,SAASO,EAAsB/D,GAAa,CAAC,OAAQ,QAAS,UAAUjB,SAAQ,SAAUuD,GAAUd,EAAOxB,EAAWsC,GAAQ,SAAUC,GAAO,OAAOkB,KAAKrB,QAAQE,EAAQC,EAAM,GAAI,GAAI,CAAE,SAASyB,EAAchC,EAAWiC,GAAe,SAASC,EAAO5B,EAAQC,EAAK4B,EAASC,GAAU,IAAIlB,EAASC,EAASnB,EAAUM,GAASN,EAAWO,GAAM,GAAI,UAAYW,EAAOE,KAAM,CAAE,IAAIiB,EAASnB,EAAOX,IAAKrF,EAAQmH,EAAOnH,MAAO,OAAOA,GAAS,UAAY4C,QAAQ5C,IAAU8D,EAAOtD,KAAKR,EAAO,WAAa+G,EAAYE,QAAQjH,EAAMoH,SAASC,MAAK,SAAUrH,GAASgH,EAAO,OAAQhH,EAAOiH,EAASC,EAAS,IAAG,SAAU7G,GAAO2G,EAAO,QAAS3G,EAAK4G,EAASC,EAAS,IAAKH,EAAYE,QAAQjH,GAAOqH,MAAK,SAAUC,GAAaH,EAAOnH,MAAQsH,EAAWL,EAAQE,EAAS,IAAG,SAAUI,GAAS,OAAOP,EAAO,QAASO,EAAON,EAASC,EAAS,GAAI,CAAEA,EAAOlB,EAAOX,IAAM,CAAE,IAAImC,EAAiBjB,KAAKrB,QAAU,SAAUE,EAAQC,GAAO,SAASoC,IAA+B,OAAO,IAAIV,GAAY,SAAUE,EAASC,GAAUF,EAAO5B,EAAQC,EAAK4B,EAASC,EAAS,GAAI,CAAE,OAAOM,EAAkBA,EAAkBA,EAAgBH,KAAKI,EAA4BA,GAA8BA,GAA8B,CAAG,CAAE,SAAS/B,EAAoBF,EAAUR,GAAW,IAAII,EAASI,EAASlG,SAAS0F,EAAQI,QAAS,GAAIsC,YAActC,EAAQ,CAAE,GAAIJ,EAAQQ,SAAW,KAAM,UAAYR,EAAQI,OAAQ,CAAE,GAAII,EAASlG,SAAiB,YAAM0F,EAAQI,OAAS,SAAUJ,EAAQK,IAAMqC,UAAWhC,EAAoBF,EAAUR,GAAU,UAAYA,EAAQI,QAAS,OAAOO,EAAkBX,EAAQI,OAAS,QAASJ,EAAQK,IAAM,IAAIjF,UAAU,iDAAmD,CAAE,OAAOuF,CAAkB,CAAE,IAAIK,EAASC,EAASb,EAAQI,EAASlG,SAAU0F,EAAQK,KAAM,GAAI,UAAYW,EAAOE,KAAM,OAAOlB,EAAQI,OAAS,QAASJ,EAAQK,IAAMW,EAAOX,IAAKL,EAAQQ,SAAW,KAAMG,EAAkB,IAAIgC,EAAO3B,EAAOX,IAAK,OAAOsC,EAAOA,EAAK5H,MAAQiF,EAAQQ,EAASoC,YAAcD,EAAK3H,MAAOgF,EAAQtE,KAAO8E,EAASqC,QAAS,WAAa7C,EAAQI,SAAWJ,EAAQI,OAAS,OAAQJ,EAAQK,IAAMqC,WAAY1C,EAAQQ,SAAW,KAAMG,GAAoBgC,GAAQ3C,EAAQI,OAAS,QAASJ,EAAQK,IAAM,IAAIjF,UAAU,oCAAqC4E,EAAQQ,SAAW,KAAMG,EAAmB,CAAE,SAASmC,EAAaC,GAAQ,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAAM,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKxB,KAAK8B,WAAW9G,KAAKyG,EAAQ,CAAE,SAASM,EAAcN,GAAS,IAAIhC,EAASgC,EAAMO,YAAc,CAAC,EAAGvC,EAAOE,KAAO,gBAAiBF,EAAOX,IAAK2C,EAAMO,WAAavC,CAAQ,CAAE,SAASf,EAAQN,GAAe4B,KAAK8B,WAAa,CAAC,CAAEJ,OAAQ,SAAWtD,EAAY9C,QAAQiG,EAAcvB,MAAOA,KAAKiC,OAAM,EAAK,CAAE,SAAS7B,EAAO8B,GAAY,GAAIA,EAAU,CAAE,IAAIC,EAAiBD,EAASxE,GAAiB,GAAIyE,EAAgB,OAAOA,EAAelI,KAAKiI,GAAW,GAAI,mBAAqBA,EAAS/H,KAAM,OAAO+H,EAAU,IAAKE,MAAMF,EAAS/I,QAAS,CAAE,IAAIC,GAAK,EAAGe,EAAO,SAASA,IAAS,OAASf,EAAI8I,EAAS/I,QAAW,GAAIoE,EAAOtD,KAAKiI,EAAU9I,GAAI,OAAOe,EAAKV,MAAQyI,EAAS9I,GAAIe,EAAKX,MAAO,EAAIW,EAAQ,OAAOA,EAAKV,MAAQ0H,UAAWhH,EAAKX,MAAO,EAAIW,CAAM,EAAG,OAAOA,EAAKA,KAAOA,CAAM,CAAE,CAAE,MAAO,CAAEA,KAAM6E,EAAc,CAAE,SAASA,IAAe,MAAO,CAAEvF,MAAO0H,UAAW3H,MAAM,EAAM,CAAE,OAAOqG,EAAkBtD,UAAYuD,EAA4B/B,EAAOsC,EAAI,cAAeP,GAA6B/B,EAAO+B,EAA4B,cAAeD,GAAoBA,EAAkBwC,YAActE,EAAO+B,EAA4BjC,EAAmB,qBAAsBR,EAAQiF,oBAAsB,SAAUC,GAAU,IAAIC,EAAO,mBAAqBD,GAAUA,EAAOjG,YAAa,QAASkG,IAASA,IAAS3C,GAAqB,uBAAyB2C,EAAKH,aAAeG,EAAK1F,MAAQ,EAAGO,EAAQoF,KAAO,SAAUF,GAAU,OAAO9H,OAAOiI,eAAiBjI,OAAOiI,eAAeH,EAAQzC,IAA+ByC,EAAOI,UAAY7C,EAA4B/B,EAAOwE,EAAQ1E,EAAmB,sBAAuB0E,EAAOhG,UAAY9B,OAAO+D,OAAO6B,GAAKkC,CAAQ,EAAGlF,EAAQuF,MAAQ,SAAU9D,GAAO,MAAO,CAAE+B,QAAS/B,EAAO,EAAGwB,EAAsBC,EAAchE,WAAYwB,EAAOwC,EAAchE,UAAWoB,GAAqB,WAAc,OAAOqC,IAAM,IAAI3C,EAAQkD,cAAgBA,EAAelD,EAAQwF,MAAQ,SAAU5E,EAASC,EAASC,EAAMC,EAAaoC,QAAe,IAAWA,IAAgBA,EAAcsC,SAAU,IAAI3F,EAAO,IAAIoD,EAAcvC,EAAKC,EAASC,EAASC,EAAMC,GAAcoC,GAAc,OAAOnD,EAAQiF,oBAAoBpE,GAAWf,EAAOA,EAAKhD,OAAO2G,MAAK,SAAUF,GAAU,OAAOA,EAAOpH,KAAOoH,EAAOnH,MAAQ0D,EAAKhD,MAAQ,GAAI,EAAGmG,EAAsBD,GAAKtC,EAAOsC,EAAIxC,EAAmB,aAAcE,EAAOsC,EAAI3C,GAAgB,WAAc,OAAOsC,IAAM,IAAIjC,EAAOsC,EAAI,YAAY,WAAc,MAAO,oBAAsB,IAAIhD,EAAQ7C,KAAO,SAAUF,GAAU,IAAIE,EAAO,GAAI,IAAK,IAAIe,KAAOjB,EAAUE,EAAKQ,KAAKO,GAAQ,OAAOf,EAAKuI,UAAW,SAAS5I,IAAS,KAAOK,EAAKrB,QAAS,CAAE,IAAIoC,EAAMf,EAAKwI,MAAO,GAAIzH,KAAOjB,EAAQ,OAAOH,EAAKV,MAAQ8B,EAAKpB,EAAKX,MAAO,EAAIW,CAAM,CAAE,OAAOA,EAAKX,MAAO,EAAIW,CAAM,CAAG,EAAGkD,EAAQ+C,OAASA,EAAQ1B,EAAQnC,UAAY,CAAED,YAAaoC,EAASuD,MAAO,SAAegB,GAAiB,GAAIjD,KAAKkD,KAAO,EAAGlD,KAAK7F,KAAO,EAAG6F,KAAKX,KAAOW,KAAKV,MAAQ6B,UAAWnB,KAAKxG,MAAO,EAAIwG,KAAKf,SAAW,KAAMe,KAAKnB,OAAS,OAAQmB,KAAKlB,IAAMqC,UAAWnB,KAAK8B,WAAWxG,QAAQyG,IAAiBkB,EAAe,IAAK,IAAInG,KAAQkD,KAAQ,MAAQlD,EAAKqG,OAAO,IAAM5F,EAAOtD,KAAK+F,KAAMlD,KAAUsF,OAAOtF,EAAKD,MAAM,MAAQmD,KAAKlD,GAAQqE,UAAc,EAAGiC,KAAM,WAAkBpD,KAAKxG,MAAO,EAAI,IAAI6J,EAAarD,KAAK8B,WAAW,GAAGE,WAAY,GAAI,UAAYqB,EAAW1D,KAAM,MAAM0D,EAAWvE,IAAK,OAAOkB,KAAKsD,IAAM,EAAG/D,kBAAmB,SAA2BgE,GAAa,GAAIvD,KAAKxG,KAAM,MAAM+J,EAAW,IAAI9E,EAAUuB,KAAM,SAASwD,EAAOC,EAAKC,GAAU,OAAOjE,EAAOE,KAAO,QAASF,EAAOX,IAAMyE,EAAW9E,EAAQtE,KAAOsJ,EAAKC,IAAWjF,EAAQI,OAAS,OAAQJ,EAAQK,IAAMqC,aAAcuC,CAAQ,CAAE,IAAK,IAAItK,EAAI4G,KAAK8B,WAAW3I,OAAS,EAAGC,GAAK,IAAKA,EAAG,CAAE,IAAIqI,EAAQzB,KAAK8B,WAAW1I,GAAIqG,EAASgC,EAAMO,WAAY,GAAI,SAAWP,EAAMC,OAAQ,OAAO8B,EAAO,OAAQ,GAAI/B,EAAMC,QAAU1B,KAAKkD,KAAM,CAAE,IAAIS,EAAWpG,EAAOtD,KAAKwH,EAAO,YAAamC,EAAarG,EAAOtD,KAAKwH,EAAO,cAAe,GAAIkC,GAAYC,EAAY,CAAE,GAAI5D,KAAKkD,KAAOzB,EAAME,SAAU,OAAO6B,EAAO/B,EAAME,UAAU,GAAK,GAAI3B,KAAKkD,KAAOzB,EAAMG,WAAY,OAAO4B,EAAO/B,EAAMG,WAAa,MAAO,GAAI+B,GAAY,GAAI3D,KAAKkD,KAAOzB,EAAME,SAAU,OAAO6B,EAAO/B,EAAME,UAAU,OAAY,CAAE,IAAKiC,EAAY,MAAM,IAAI7E,MAAM,0CAA2C,GAAIiB,KAAKkD,KAAOzB,EAAMG,WAAY,OAAO4B,EAAO/B,EAAMG,WAAa,CAAE,CAAE,CAAE,EAAGpC,OAAQ,SAAgBG,EAAMb,GAAO,IAAK,IAAI1F,EAAI4G,KAAK8B,WAAW3I,OAAS,EAAGC,GAAK,IAAKA,EAAG,CAAE,IAAIqI,EAAQzB,KAAK8B,WAAW1I,GAAI,GAAIqI,EAAMC,QAAU1B,KAAKkD,MAAQ3F,EAAOtD,KAAKwH,EAAO,eAAiBzB,KAAKkD,KAAOzB,EAAMG,WAAY,CAAE,IAAIiC,EAAepC,EAAO,KAAO,CAAE,CAAEoC,IAAiB,UAAYlE,GAAQ,aAAeA,IAASkE,EAAanC,QAAU5C,GAAOA,GAAO+E,EAAajC,aAAeiC,EAAe,MAAO,IAAIpE,EAASoE,EAAeA,EAAa7B,WAAa,CAAC,EAAG,OAAOvC,EAAOE,KAAOA,EAAMF,EAAOX,IAAMA,EAAK+E,GAAgB7D,KAAKnB,OAAS,OAAQmB,KAAK7F,KAAO0J,EAAajC,WAAYxC,GAAoBY,KAAK8D,SAASrE,EAAS,EAAGqE,SAAU,SAAkBrE,EAAQoC,GAAY,GAAI,UAAYpC,EAAOE,KAAM,MAAMF,EAAOX,IAAK,MAAO,UAAYW,EAAOE,MAAQ,aAAeF,EAAOE,KAAOK,KAAK7F,KAAOsF,EAAOX,IAAM,WAAaW,EAAOE,MAAQK,KAAKsD,KAAOtD,KAAKlB,IAAMW,EAAOX,IAAKkB,KAAKnB,OAAS,SAAUmB,KAAK7F,KAAO,OAAS,WAAasF,EAAOE,MAAQkC,IAAa7B,KAAK7F,KAAO0H,GAAWzC,CAAkB,EAAG2E,OAAQ,SAAgBnC,GAAc,IAAK,IAAIxI,EAAI4G,KAAK8B,WAAW3I,OAAS,EAAGC,GAAK,IAAKA,EAAG,CAAE,IAAIqI,EAAQzB,KAAK8B,WAAW1I,GAAI,GAAIqI,EAAMG,aAAeA,EAAY,OAAO5B,KAAK8D,SAASrC,EAAMO,WAAYP,EAAMI,UAAWE,EAAcN,GAAQrC,CAAkB,CAAE,EAAG4E,QAAS,SAAgBtC,GAAU,IAAK,IAAItI,EAAI4G,KAAK8B,WAAW3I,OAAS,EAAGC,GAAK,IAAKA,EAAG,CAAE,IAAIqI,EAAQzB,KAAK8B,WAAW1I,GAAI,GAAIqI,EAAMC,SAAWA,EAAQ,CAAE,IAAIjC,EAASgC,EAAMO,WAAY,GAAI,UAAYvC,EAAOE,KAAM,CAAE,IAAIsE,EAASxE,EAAOX,IAAKiD,EAAcN,EAAQ,CAAE,OAAOwC,CAAQ,CAAE,CAAE,MAAM,IAAIlF,MAAM,wBAA0B,EAAGmF,cAAe,SAAuBhC,EAAUb,EAAYC,GAAW,OAAOtB,KAAKf,SAAW,CAAElG,SAAUqH,EAAO8B,GAAWb,WAAYA,EAAYC,QAASA,GAAW,SAAWtB,KAAKnB,SAAWmB,KAAKlB,IAAMqC,WAAY/B,CAAkB,GAAK/B,CAAS,CAEphX,SAAS8G,mBAAmBC,EAAK1D,EAASC,EAAQ0D,EAAOC,EAAQ/I,EAAKuD,GAAO,IAAM,IAAIsC,EAAOgD,EAAI7I,GAAKuD,GAAUrF,EAAQ2H,EAAK3H,KAAgD,CAAvC,MAAOuH,GAAwB,YAAfL,EAAOK,EAAgB,CAAMI,EAAK5H,KAAQkH,EAAQjH,GAAiBqJ,QAAQpC,QAAQjH,GAAOqH,KAAKuD,EAAOC,EAAW,CAExQ,SAASC,kBAAkB3E,GAAM,OAAO,WAAc,IAAIzB,EAAO6B,KAAMwE,EAAOpJ,UAAW,OAAO,IAAI0H,SAAQ,SAAUpC,EAASC,GAAU,IAAIyD,EAAMxE,EAAG3E,MAAMkD,EAAMqG,GAAO,SAASH,EAAM5K,GAAS0K,mBAAmBC,EAAK1D,EAASC,EAAQ0D,EAAOC,EAAQ,OAAQ7K,EAAQ,CAAE,SAAS6K,EAAOxK,GAAOqK,mBAAmBC,EAAK1D,EAASC,EAAQ0D,EAAOC,EAAQ,QAASxK,EAAM,CAAEuK,EAAMlD,UAAY,GAAI,CAAG,CAjCpY,IAAMsD,OAAS,qBACTC,mBAAqB,kCACrBC,WAAaF,OAAS,KAAOC,mBAC7BE,YAAc,CAClB,iBACA,aACA,sBAEEC,WAAY,EACVC,WAAa,0BACfC,kBAAoB,oBACpBC,OAAQ,EAENC,YAAW,WAAA,IAAAC,EAAAX,kBAAAnH,sBAAAqF,MAAG,SAAA0C,EAAOC,GAAP,IAAAC,EAAA,OAAAjI,sBAAAY,MAAA,SAAAsH,GAAA,OAAA,OAAAA,EAAApC,KAAAoC,EAAAnL,MAAA,KAAA,EAAA,GACZkL,EAAMD,EAAMG,QAAQF,KACtB,UAAUrI,KAAKqI,GAFD,CAAAC,EAAAnL,KAAA,EAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAGTgG,YAAYJ,IAHH,KAAA,EAAA,IAIP,UAAUpI,KAAKqI,GAJR,CAAAC,EAAAnL,KAAA,EAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAKTiG,WAAWL,IALF,KAAA,EAAA,IAMP,yBAAyBpI,KAAKqI,GANvB,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAOTkG,YAAYN,IAPH,KAAA,GAAA,IAQP,kBAAkBpI,KAAKqI,GARhB,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SASTkG,YAAYN,IATH,KAAA,GAAA,IAUP,mBAAmBpI,KAAKqI,GAVjB,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAWTkG,YAAYN,IAXH,KAAA,GAAA,IAYP,gBAAgBpI,KAAKqI,GAZd,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAaTkG,YAAYN,IAbH,KAAA,GAAA,IAcP,qBAAqBpI,KAAKqI,GAdnB,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAeTkG,YAAYN,IAfH,KAAA,GAAA,IAgBP,aAAapI,KAAKqI,GAhBX,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAiBTkG,YAAYN,IAjBH,KAAA,GAAA,IAkBP,gEAAgEpI,KAAKqI,GAlB9D,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAmBTkG,YAAYN,IAnBH,KAAA,GAAA,IAoBP,gBAAgBpI,KAAKqI,GApBd,CAAAC,EAAAnL,KAAA,GAAA,KAAA,CAAA,OAAAmL,EAAA9F,OAAA,SAqBTkG,YAAYN,IArBH,KAAA,GAAA,OAAAE,EAAA9F,OAAA,SAuBTiG,WAAWL,IAvBF,KAAA,GAAA,IAAA,MAAA,OAAAE,EAAAlC,OAAA,GAAA+B,EAAA,KAAH,OAAA,SAAAQ,GAAA,OAAAT,EAAAjK,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GA0BXwK,IAAM,CACVC,GAAI,CACFC,SAAU,8BACVC,OAAQ,iCACRC,MAAO,gCACPC,UAAW,oCACXC,MAAO,iCAETC,QAAS,CACPL,SAAU,mCACVC,OAAQ,sCACRC,MAAO,qCACPC,UAAW,yCACXC,MAAO,sCAETE,IAAK,CACHN,SAAU,+BACVC,OAAQ,kCACRC,MAAO,iCACPC,UAAW,qCACXC,MAAO,iCACPG,MAAO,qBAETC,MAAO,CACLA,MAAO,yCACPC,QAAS,0BACTC,QAAS,oCACTC,UAAW,qDAGTC,eAAiB,GACvB,IAAK,IAAM/G,QAAQiG,IACjB,IAAK,IAAMrK,OAAOqK,IAAIjG,MACpB+G,eAAe1L,KAAK,CAAE2E,KAAYpE,IAAKqK,IAAIjG,MAAMpE,OAGrD,IAAMoL,SAAWC,QACXC,MAAQ,CACZC,MAAO,UACPC,IAAK,UACLC,MAAO,UACPC,OAAQ,UACRC,KAAM,UACNC,QAAS,UACTC,KAAM,UACNC,MAAO,WAEHC,IAAM,WAIV,IAHA,IAAIC,EAAK,CACP,IAEOhM,EAAM,EAAGA,EAAMH,UAAIjC,OAAQoC,IAAO,CACzC,IAAAiM,EAA8BjM,EAA9B,GAAAH,UAAAjC,QAA8BoC,EAA9B4F,UAAA/F,UAA8BG,GAA9BkM,EAAAjL,SAAAgL,GAAOE,EAAPD,EAAA,GAAiBE,EAAjBF,EAAA5K,MAAA,GACA0K,EAAG,IAAMG,EACTH,EAAKA,EAAGK,OAAOD,EAChB,CACD,OAAOJ,CACR,EACKM,UAAY,SAACC,GAAD,OAAU,WAAa,IAEvC,IAAMC,EAAc,SAARD,EAAkBnB,SAASmB,GAAQnB,SAASqB,IAFjBC,EAAA7M,UAAAjC,OAATqL,EAAS,IAAAxL,MAAAiP,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAT1D,EAAS0D,GAAA9M,UAAA8M,GAGvCH,EAAI9M,WAAM,EAAQuJ,EACnB,CAJiB,EAKZ2D,YAAc,SAACL,GAAD,OAAU,WAAa,IACzC,IAAMC,EAAMpB,SAASyB,eADoBC,EAAAjN,UAAAjC,OAATqL,EAAS,IAAAxL,MAAAqP,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAT9D,EAAS8D,GAAAlN,UAAAkN,GAEzCP,EAAI9M,WAAM,EAAQuJ,EACnB,CAHmB,EAId+D,WAAa,CACjBC,KAAM,SAACC,GACL,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAA,GAAAb,OAAUa,EAAV,uBAEF,IAAK,IAAIlN,EAAM,EAAGA,EAAMkN,EAAItP,OAAQoC,IAClCkN,EAAIlN,IAAJ,sBAEF,OAAOkN,CACR,GAEGC,UAAY,CAChBV,IAAK,QACLW,KAAM,OACN3H,MAAO,MACP4H,KAAM,SACNC,MAAO,QACPzH,KAAM,OACNgE,MAAO,WAEH0D,YAAc,SAAChM,GAAD,OAAU,WAAY,IAAA,IAAAiM,EAAA3N,UAAAjC,OAARsP,EAAQ,IAAAzP,MAAA+P,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAARP,EAAQO,GAAA5N,UAAA4N,GACxC,GAAsB,WAAlB3M,QAAOoM,EAAI,IAAf,CAIA,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAU5L,IAAO2L,IAEvCZ,UAAU/K,GAAV7B,WAAA,EAAAc,mBAAmBuL,IAAIiB,WAAWC,KAAKD,WAAWG,UAAU5L,IAArB,IAAA8K,OAAgCsB,iBAAiBpM,GAAjD,QAA8DmM,IALpG,MAFCpB,UAAU/K,GAAV7B,WAAA,EAAAc,mBAAmBuL,IAAGrM,WAAH,EAAA,CAAIsN,WAAWC,KAAKD,WAAWG,UAAU5L,IAArB,IAAA8K,OAAgCsB,iBAAiBpM,GAAjD,SAApB8K,OAAqFa,KAQ3G,CAVmB,EAWdU,cAAgB,SAACrM,GAAD,OAAU,WAAY,IAAA,IAAAsM,EAAAhO,UAAAjC,OAARsP,EAAQ,IAAAzP,MAAAoQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAARZ,EAAQY,GAAAjO,UAAAiO,GAC1C,GAAsB,WAAlBhN,QAAOoM,EAAI,IAAf,CAIA,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAU5L,IAAO2L,IAEvCZ,UAAU/K,GAAV7B,WAAA,EAAAc,mBAAmBuL,IAAIiB,WAAWC,KAAKD,WAAU,KAAAX,OAAMsB,iBAAiBR,UAAU5L,MAA3C,IAAA8K,OAAyDsB,iBAAiBpM,GAA1E,QAAuFmM,IAL7H,MAFCpB,UAAU/K,GAAV7B,WAAA,EAAAc,mBAAmBuL,IAAGrM,WAAH,EAAA,CAAIsN,WAAWC,KAAKD,WAAU,KAAAX,OAAMsB,iBAAiBR,UAAU5L,MAA3C,IAAA8K,OAAyDsB,iBAAiBpM,GAA1E,SAApB8K,OAA8Ga,KAQpI,CAVqB,EAWhBa,iBAAmB,SAACxM,GAAD,OAAU,WAAY,IAAA,IAAAyM,EAAAnO,UAAAjC,OAARsP,EAAQ,IAAAzP,MAAAuQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAARf,EAAQe,GAAApO,UAAAoO,GAC7C,GAAsB,WAAlBnN,QAAOoM,EAAI,IAAf,CAIA,IAAIQ,EAASR,EACM,iBAARA,GAAmC,iBAARA,IACpCQ,EAASV,WAAWG,UAAU5L,IAAO2L,IAEvCN,YAAYrL,GAAZ7B,WAAA,EAAAc,mBAAqBuL,IAAIiB,WAAWC,KAAKD,WAAWG,UAAU5L,IAArB,IAAA8K,OAAgCsB,iBAAiBpM,GAAjD,QAA8DmM,IALtG,MAFCd,YAAYrL,GAAZ7B,WAAA,EAAAc,mBAAqBuL,IAAGrM,WAAH,EAAA,CAAIsN,WAAWC,KAAKD,WAAWG,UAAU5L,IAArB,IAAA8K,OAAgCsB,iBAAiBpM,GAAjD,SAApB8K,OAAqFa,KAQ7G,CAVwB,EAWnBgB,MAAQ,CACZC,MAAO,CACLC,IAAKhD,SAASiD,UAEhBC,GAAI,CAAA,GAENpP,OAAOD,KAAKkO,WAAWpN,SAAQ,SAAAC,GAC7BkO,MAAMlO,GAAOuN,YAAYvN,GACzBkO,MAAMC,MAAMnO,GAAO+N,iBAAiB/N,GACpCkO,MAAMI,GAAGtO,GAAO4N,cAAc5N,EAC/B,IACD,IAAM2N,iBAAmB,SAACT,GAAD,OAASA,EAAIqB,cAAcC,QAAQ,eAAe,SAACC,GAAD,OAAOA,EAAEC,aAAT,GAAlD,EACzBxP,OAAOD,KAAKqM,OAAOvL,SAAQ,SAAAC,GACzBgN,WAAWhN,GAAO,SAACkN,GACjB,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAO,CAAA,KAAAb,OAAMa,GAAN,SAAAb,OAAsBf,MAAMtL,KAErC,IAAK,IAAInC,EAAI,EAAGA,EAAIqP,EAAItP,OAAQC,IAC9BqP,EAAIrP,IAAJ,UAAAwO,OAAoBf,MAAMtL,IAE5B,OAAOkN,CACR,EACDF,WAAU,KAAAX,OAAMsB,iBAAiB3N,KAAU,SAACkN,GAC1C,GAAmB,iBAARA,GAAmC,iBAARA,EACpC,MAAO,CAAA,KAAAb,OAAMa,GAAN,gDAAAb,OAAqE,UAARrM,EAAkB,OAAS,OAAxF,oCAAAqM,OAAiIf,MAAMtL,GAAvI,MAET,IAAK,IAAInC,EAAI,EAAGA,EAAIqP,EAAItP,OAAQC,IAC9BqP,EAAIrP,IAAJ,wEAAAwO,OAAkFf,MAAMtL,GAAxF,KAEF,OAAOkN,CACR,CACF,IACDtK,KAAK+L,OAALhP,cAAAA,cAAA,CACEoM,KACGmC,OACAlB,YAGAvD,QACHkF,OAAS,CACPlC,IAAK,WAAS,EACdW,KAAM,WAAS,EACf3H,MAAO,WAAS,EAChB4H,KAAM,WAAS,EACfC,MAAO,WAAS,EAChBzH,KAAM,WAAS,EACfgE,MAAO,WAAS,EAChBsE,MAAO,CACL1B,IAAK,WAAS,EACdW,KAAM,WAAS,EACf3H,MAAO,WAAS,EAChB4H,KAAM,WAAS,EACfC,MAAO,WAAS,EAChBzH,KAAM,WAAS,EACfgE,MAAO,WAAS,EAChBuE,IAAK,WAAS,GAEhBE,GAAI,CACF7B,IAAK,WAAS,EACdW,KAAM,WAAS,EACf3H,MAAO,WAAS,EAChB4H,KAAM,WAAS,EACfC,MAAO,WAAS,EAChBzH,KAAM,WAAS,EACfgE,MAAO,WAAS,IAGpBwB,QAAQoB,IAAM,WAAS,GAGzB,IAAMmC,cAAgB,WACpB,MAAO,uCAAuCJ,QAAQ,SAAS,SAAUK,GACvE,IAAIC,EAAoB,GAAhBC,KAAKC,SAAgB,EAC7B,OADyC,KAALH,EAAWC,EAAS,EAAJA,EAAU,GACrDzN,SAAS,GACnB,GACF,EACDuB,KAAKqM,GAAK,CACRC,KAAM,SAAClP,EAAKmP,GAEV,OADKA,IAAUA,EAAS,CAAE/K,KAAM,SACzB,IAAImD,SAAQ,SAACpC,EAASC,GAC3BgK,OAAOC,KAAKjG,YAAY7D,MAAK,SAAA+J,GAC3BA,EAAMC,MAAM,IAAIC,QAAJ,sBAAAnD,OAAkCoD,mBAAmBzP,MAASuF,MAAK,SAAUmK,GAClFA,GAAKvK,EAAQ,MAClBuK,EAAIC,OAAOpK,MAAK,SAAAoK,GAAI,OAAIxK,EAAQwK,EAAZ,GACrB,IAHD,UAGS,WACPxK,EAAQ,KACT,GACF,GACF,GACF,EACDyK,MAAO,SAAC5P,EAAK9B,GACX,OAAO,IAAIqJ,SAAQ,SAACpC,EAASC,GAC3BgK,OAAOC,KAAKjG,YAAY7D,MAAK,SAAU+J,GACrCA,EAAMO,IAAI,IAAIL,QAAJ,sBAAAnD,OAAkCoD,mBAAmBzP,KAAS,IAAI8P,SAAS5R,IACrFiH,GACD,IAHD,UAGS,WACPC,GACD,GACF,GACF,GAEH,IAAM2K,eAAiB,SAACC,EAAGC,GAIzB,IAHA,IAAIC,EAAKF,EAAEG,MAAM,KACbC,EAAKH,EAAEE,MAAM,KACXzO,EAAMqN,KAAKsB,IAAIH,EAAGtS,OAAQwS,EAAGxS,QAC5BsS,EAAGtS,OAAS8D,GACjBwO,EAAGzQ,KAAK,KAEV,KAAO2Q,EAAGxS,OAAS8D,GACjB0O,EAAG3Q,KAAK,KAEV,IAAK,IAAI5B,EAAI,EAAGA,EAAI6D,EAAK7D,IAAK,CAC5B,IAAMyS,EAAOC,SAASL,EAAGrS,IACnB2S,EAAOD,SAASH,EAAGvS,IACzB,GAAIyS,EAAOE,EACT,OAAOR,EACF,GAAIM,EAAOE,EAChB,OAAOP,CAEV,CACD,OAAOD,CACR,EAEKS,QAAU,CAAA,8BAAApE,OACgB9C,WADhB,WAAA,kCAAA8C,OAEoB9C,WAFpB,WAAA,yCAAA8C,OAG2B9C,WAH3B,YAKVmH,gBAAe,WAAA,IAAAC,EAAA3H,kBAAAnH,sBAAAqF,MAAG,SAAA0J,IAAA,OAAA/O,sBAAAY,MAAA,SAAAoO,GAAA,OAAA,OAAAA,EAAAlJ,KAAAkJ,EAAAjS,MAAA,KAAA,EAAA,OAAAiS,EAAAjS,KAAA,EACIqQ,GAAGC,KAAK,gBADZ,KAAA,EAAA,GAAA2B,EAAAC,GAAAD,EAAA/M,KAAA+M,EAAAC,GAAA,CAAAD,EAAAjS,KAAA,EAAA,KAAA,CAAAiS,EAAAC,GAC+BtH,kBAD/B,KAAA,EACtBA,kBADsBqH,EAAAC,GAEtBnC,OAAOL,GAAGzI,KAAV,kBAAAwG,OAAiC9C,WAAjC,KAAA8C,OAA+C7C,oBAFzB,KAAA,EAAA,IAAA,MAAA,OAAAqH,EAAAhJ,OAAA,GAAA+I,EAAA,KAAH,OAAA,WAAA,OAAAD,EAAAjR,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GAIjBkR,YAAc,EACZC,iBAAgB,WAAA,IAAAC,EAAAjI,kBAAAnH,sBAAAqF,MAAG,SAAAgK,IAAA,IAAA7S,EAAA,OAAAwD,sBAAAY,MAAA,SAAA0O,GAAA,OAAA,OAAAA,EAAAxJ,KAAAwJ,EAAAvS,MAAA,KAAA,EAAA,GAClB0K,UADkB,CAAA6H,EAAAvS,KAAA,EAAA,KAAA,CAAA,OAAAuS,EAAAlN,OAAA,UAAA,KAAA,EAAA,OAInB5F,EAAI,KAINA,EAHI0S,aAAeN,QAAQ7S,OAAS,GAGhCwT,MAAMX,QAASM,aAAeN,QAAQ7S,OAAS,GAAM,IAFrDyT,SAASZ,SAIfM,cAVuBI,EAAAlN,OAAA,SAWhB5F,EACJkH,MAAK,SAAAmK,GAAG,OAAIA,EAAI4B,MAAR,IACR/L,KAFI,WAAA,IAAAgM,EAAAvI,kBAAAnH,sBAAAqF,MAEC,SAAAsK,EAAM9B,GAAN,OAAA7N,sBAAAY,MAAA,SAAAgP,GAAA,OAAA,OAAAA,EAAA9J,KAAA8J,EAAA7S,MAAA,KAAA,EAAA,GACC8Q,EAAIgC,QADL,CAAAD,EAAA7S,KAAA,EAAA,KAAA,CAAA,KACqB,oBADrB,KAAA,EAAA,OAAA6S,EAAAX,GAEgBf,eAFhB0B,EAAAE,GAE+BjC,EAAIgC,QAFnCD,EAAA7S,KAAA,EAEkDqQ,GAAGC,KAAK,gBAF1D,KAAA,EAAA,GAAAuC,EAAAG,GAAAH,EAAA3N,KAAA2N,EAAAG,GAAA,CAAAH,EAAA7S,KAAA,EAAA,KAAA,CAAA6S,EAAAG,GAE6EpI,kBAF7E,KAAA,EAAA,OAAAiI,EAAAI,GAAAJ,EAAAG,GAEJpI,mBAFI,EAAAiI,EAAAX,IAAAW,EAAAE,GAAAF,EAAAI,IAGJlD,OAAOL,GAAGhB,MAAV,GAAAjB,OAAmB9C,WAAnB,KAAA8C,OAAiC7C,oBAH7BiI,EAAA7S,KAAA,GAIEqQ,GAAGW,MAAM,eAAgBpG,mBAJ3B,KAAA,GAAA,IAAA,MAAA,OAAAiI,EAAA5J,OAAA,GAAA2J,EAAA,KAFD,OAAA,SAAAM,GAAA,OAAAP,EAAA7R,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,IAAA,UAQE,SAAA4F,GACLkJ,OAAOlJ,MAAM,yBAA2BA,EAAMsM,OAAStM,GACxD,KArBoB,KAAA,EAAA,IAAA,MAAA,OAAA0L,EAAAtJ,OAAA,GAAAqJ,EAAA,KAAH,OAAA,WAAA,OAAAD,EAAAvR,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GAuBtBmS,YAAWhJ,kBAAAnH,sBAAAqF,MAAC,SAAA+K,IAAA,OAAApQ,sBAAAY,MAAA,SAAAyP,GAAA,OAAA,OAAAA,EAAAvK,KAAAuK,EAAAtT,MAAA,KAAA,EAAA,OAAAsT,EAAAtT,KAAA,EACJoS,mBADI,KAAA,EAAA,IAAA,MAAA,OAAAkB,EAAArK,OAAA,GAAAoK,EAAA,KAET,KACHE,WAAUnJ,kBAAAnH,sBAAAqF,MAAC,SAAAkL,IAAA,OAAAvQ,sBAAAY,MAAA,SAAA4P,GAAA,OAAA,OAAAA,EAAA1K,KAAA0K,EAAAzT,MAAA,KAAA,EAAA,OAAAyT,EAAAzT,KAAA,EACHoS,mBADG,KAAA,EAAA,IAAA,MAAA,OAAAqB,EAAAxK,OAAA,GAAAuK,EAAA,KAER,KACH,IAAME,gBAAe,WAAA,IAAAC,EAAAvJ,kBAAAnH,sBAAAqF,MAAG,SAAAsL,IAAA,OAAA3Q,sBAAAY,MAAA,SAAAgQ,GAAA,OAAA,OAAAA,EAAA9K,KAAA8K,EAAA7T,MAAA,KAAA,EAAA,OAAA6T,EAAA7T,KAAA,EAChB8R,kBADgB,KAAA,EAAA,OAAA+B,EAAAxO,OAAA,SAEfmL,OAAOC,KAAKjG,WAAa,aAC7B7D,KADI,WAAA,IAAAmN,EAAA1J,kBAAAnH,sBAAAqF,MACC,SAAAyL,EAAgBrD,GAAhB,IAAAsD,EAAA,OAAA/Q,sBAAAY,MAAA,SAAAoQ,GAAA,OAAA,OAAAA,EAAAlL,KAAAkL,EAAAjU,MAAA,KAAA,EAAA,OAAAiU,EAAAjU,KAAA,EACOqQ,GAAGC,KAAK,QADf,KAAA,EAAA,GAAA2D,EAAA/O,KAAA,CAAA+O,EAAAjU,KAAA,EAAA,KAAA,CAAA,OAAAiU,EAAAjU,KAAA,EAEIqQ,GAAGW,MAAM,OAAQhB,iBAFrB,KAAA,EAIAvF,YAAYzL,SACd+Q,OAAOR,MAAMtE,MAAb,cAAAwC,OAAiChD,YAAYzL,OAA7C,YACIgV,EAAQ,EACZvJ,YAAYtJ,SAAQ,SAAU+J,GAC5BwF,EAAMC,MAAM,IAAIC,QAAQ1F,IAAMvE,MAAK,SAAUuN,GACvCA,EACFnE,OAAOrB,MAAP,cAAAjB,OAA2BvC,KAE3B6E,OAAOvB,KAAP,cAAAf,OAA0BvC,IAC1BwF,EAAMvD,IAAI,IAAIyD,QAAQ1F,OAExB8I,IACcvJ,YAAYzL,SACxB+Q,OAAOrB,MAAP,aAAAjB,OAA0BhD,YAAYzL,OAAtC,YACA+Q,OAAOR,MAAMC,MAEhB,GACF,KArBC,KAAA,EAAA,IAAA,MAAA,OAAAyE,EAAAhL,OAAA,GAAA8K,EAAA,KADD,OAAA,SAAAI,GAAA,OAAAL,EAAAhT,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,IAAA,UAwBI,SAAC4F,GACRkJ,OAAOlJ,MAAM,cAAgBA,EAAMsM,OAAStM,GAC7C,KA5BmB,KAAA,EAAA,IAAA,MAAA,OAAAgN,EAAA5K,OAAA,GAAA2K,EAAA,KAAH,OAAA,WAAA,OAAAD,EAAA7S,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GA8BrB+C,KAAKoQ,iBAAiB,UAAtB,WAAA,IAAAC,EAAAjK,kBAAAnH,sBAAAqF,MAAiC,SAAAgM,EAAgBrJ,GAAhB,OAAAhI,sBAAAY,MAAA,SAAA0Q,GAAA,OAAA,OAAAA,EAAAxL,KAAAwL,EAAAvU,MAAA,KAAA,EAC/B+P,OAAOL,GAAGzE,MAAM,0CAChB,IACEjH,KAAKwQ,cACLvJ,EAAMwJ,UAAUf,mBAChB3D,OAAOL,GAAGhB,MAAM,iCAGjB,CAFC,MAAO7H,GACPkJ,OAAOlJ,MAAM,cAAgBA,EAAMsM,OAAStM,GAC7C,CAR8B,KAAA,EAAA,IAAA,MAAA,OAAA0N,EAAAtL,OAAA,GAAAqL,EAAA,KAAjC,OAAA,SAAAI,GAAA,OAAAL,EAAAvT,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,IAUA+C,KAAKoQ,iBAAiB,WAAtB,WAAA,IAAAO,EAAAvK,kBAAAnH,sBAAAqF,MAAkC,SAAAsM,EAAM3J,GAAN,OAAAhI,sBAAAY,MAAA,SAAAgR,GAAA,OAAA,OAAAA,EAAA9L,KAAA8L,EAAA7U,MAAA,KAAA,EAAA,OAChC+P,OAAOL,GAAGzE,MAAM,2CADgB4J,EAAA9L,KAAA,EAG9BkC,EAAMwJ,UACJjE,OAAOnQ,OAAOsG,MAAK,SAACtG,GAClB,OAAOsI,QAAQmM,IAAIzU,EAAK0U,KAAI,SAAC3T,GACtBA,EAAI4T,SAASzK,sBAChBiG,OAAM,UAAQpP,GACd2O,OAAOL,GAAGhB,MAAM,2BAA6BtN,GAEhD,IACF,IAPD,UAOS,SAACyF,GACRkJ,OAAOlJ,MAAM,eAAiBA,EAAMsM,OAAStM,GAC9C,KAb2BgO,EAAA7U,KAAA,EAexBgE,KAAKiR,QAAQC,QAfW,KAAA,EAgB9BnF,OAAOL,GAAGhB,MAAM,mCAhBcmG,EAAA7U,KAAA,GAAA,MAAA,KAAA,EAAA6U,EAAA9L,KAAA,EAAA8L,EAAA3C,GAAA2C,EAAA,SAAA,GAkB9B9E,OAAOlJ,MAAM,eAAiBgO,EAAA3C,GAAMiB,OAAN0B,EAAA3C,KAlBA,KAAA,GAAA,IAAA,MAAA,OAAA2C,EAAA5L,OAAA,GAAA2L,EAAA,KAAA,CAAA,CAAA,EAAA,IAAA,KAAlC,OAAA,SAAAO,GAAA,OAAAR,EAAA7T,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,IAqBA+C,KAAKoQ,iBAAiB,QAAtB,WAAA,IAAAgB,EAAAhL,kBAAAnH,sBAAAqF,MAA+B,SAAA+M,EAAMpK,GAAN,OAAAhI,sBAAAY,MAAA,SAAAyR,GAAA,OAAA,OAAAA,EAAAvM,KAAAuM,EAAAtV,MAAA,KAAA,EAC7BiL,EAAMsK,YACJzK,YAAYG,GAAZ,UAAyB,SAACpE,GACxBkJ,OAAOlJ,MAAM,WAAaoE,EAAMG,QAAQF,IAAM,cAAgBrE,EAAMsM,OAAStM,GAC9E,KAJ0B,KAAA,EAAA,IAAA,MAAA,OAAAyO,EAAArM,OAAA,GAAAoM,EAAA,KAA/B,OAAA,SAAAG,GAAA,OAAAJ,EAAAtU,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,IASA,IAAMoK,YAAW,WAAA,IAAAoK,EAAArL,kBAAAnH,sBAAAqF,MAAG,SAAAoN,EAAOzK,GAAP,OAAAhI,sBAAAY,MAAA,SAAA8R,GAAA,OAAA,OAAAA,EAAA5M,KAAA4M,EAAA3V,MAAA,KAAA,EAAA,OAClB+P,OAAOR,MAAMtI,KAAK,gBAAkB,IAAI2O,IAAI3K,EAAMG,QAAQF,KAAK2K,UAC/D9F,OAAOvB,KAAK,yBAA2BvD,EAAMG,QAAQF,KACrD6E,OAAOR,MAAMC,MAHKmG,EAAAtQ,OAAA,SAIXmN,MAAMvH,EAAMG,UAJD,KAAA,EAAA,IAAA,MAAA,OAAAuK,EAAA1M,OAAA,GAAAyM,EAAA,KAAH,OAAA,SAAAI,GAAA,OAAAL,EAAA3U,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GAMXqK,WAAU,WAAA,IAAAyK,EAAA3L,kBAAAnH,sBAAAqF,MAAG,SAAA0N,EAAO/K,GAAP,OAAAhI,sBAAAY,MAAA,SAAAoS,GAAA,OAAA,OAAAA,EAAAlN,KAAAkN,EAAAjW,MAAA,KAAA,EAAA,OAAAiW,EAAA5Q,OAAA,SACVmL,OAAOG,MAAM1F,EAAMG,SAASzE,MAAK,SAAUuP,GAGhD,OAFAnG,OAAOR,MAAMtI,KAAK,eAAiB,IAAI2O,IAAI3K,EAAMG,QAAQF,KAAK2K,UAC9D9F,OAAOvB,KAAK,yBAA2BvD,EAAMG,QAAQF,KACjDgL,GACFnG,OAAOR,MAAMb,MAAb,aACAjC,QAAQoB,IAAIqI,GACZnG,OAAOR,MAAMC,MACbO,OAAOR,MAAMC,MACbvE,EAAMwJ,UAAU0B,aAAalL,EAAMG,UAC5B8K,IAEPnG,OAAOtB,KAAP,cACAsB,OAAOR,MAAMC,MACN2G,aAAalL,EAAMG,SAE7B,KAhBgB,KAAA,EAAA,IAAA,MAAA,OAAA6K,EAAAhN,OAAA,GAAA+M,EAAA,KAAH,OAAA,SAAAI,GAAA,OAAAL,EAAAjV,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GAkBVsK,YAAW,WAAA,IAAA8K,EAAAjM,kBAAAnH,sBAAAqF,MAAG,SAAAgO,EAAOrL,GAAP,OAAAhI,sBAAAY,MAAA,SAAA0S,GAAA,OAAA,OAAAA,EAAAxN,KAAAwN,EAAAvW,MAAA,KAAA,EAAA,OAAAuW,EAAAlR,OAAA,SACXmL,OAAOG,MAAM1F,EAAMG,SAASzE,MAAK,SAAUuP,GAGhD,OAFAnG,OAAOR,MAAMtI,KAAK,gBAAkB,IAAI2O,IAAI3K,EAAMG,QAAQF,KAAK2K,UAC/D9F,OAAOvB,KAAK,yBAA2BvD,EAAMG,QAAQF,KACjDgL,GACFnG,OAAOR,MAAMb,MAAb,aACAjC,QAAQoB,IAAIqI,GACZnG,OAAOR,MAAMC,MACbO,OAAOR,MAAMC,MACN0G,IAEPnG,OAAOtB,KAAP,cACAsB,OAAOR,MAAMC,MACN2G,aAAalL,EAAMG,SAE7B,KAfiB,KAAA,EAAA,IAAA,MAAA,OAAAmL,EAAAtN,OAAA,GAAAqN,EAAA,KAAH,OAAA,SAAAE,GAAA,OAAAH,EAAAvV,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GAkBXwV,WAAU,WAAA,IAAAC,EAAAtM,kBAAAnH,sBAAAqF,MAAG,SAAAqO,EAAO1L,GAAP,OAAAhI,sBAAAY,MAAA,SAAA+S,GAAA,OAAA,OAAAA,EAAA7N,KAAA6N,EAAA5W,MAAA,KAAA,EAAA,OAAA4W,EAAAvR,OAAA,SACVmL,OAAOG,MAAM1F,EAAMG,SAASzE,MAAK,SAAUuP,GAEhD,OADAnG,OAAOR,MAAMtI,KAAK,yBAA2BgE,EAAMG,QAAQF,KACvDgL,GACFnG,OAAOR,MAAMb,MAAb,aACAjC,QAAQoB,IAAIqI,GACZnG,OAAOR,MAAMC,MACbO,OAAOR,MAAMC,MACN0G,IAEPnG,OAAOtB,KAAP,cACAsB,OAAOR,MAAMC,MACN2G,aAAalL,EAAMG,SAE7B,KAdgB,KAAA,EAAA,IAAA,MAAA,OAAAwL,EAAA3N,OAAA,GAAA0N,EAAA,KAAH,OAAA,SAAAE,GAAA,OAAAH,EAAA5V,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GA+fhB,SA/eekV,aA+eOW,GACpB,OAAOC,cAAcjW,MAAM+E,KAAM5E,UACnC,CAEA,SAAS8V,gBAoEP,OAnEAA,cAAgB3M,kBAAgCnH,sBAAsBqF,MApfxE,SAAA0O,EAA4B5L,GAA5B,IAAAF,EAAAgJ,EAAA,OAAAjR,sBAAAY,MAAA,SAAAoT,GAAA,OAAA,OAAAA,EAAAlO,KAAAkO,EAAAjX,MAAA,KAAA,EAAA,OACQkL,EAAM,IAAI0K,IAAIxK,EAAQF,KAD9B+L,EAAAjX,KAAA,EAEuBkX,SAAS9L,GAFhC,KAAA,EAAA,GAEM8I,EAFN+C,EAAA/R,KAAA,CAAA+R,EAAAjX,KAAA,EAAA,KAAA,CAAA,OAAAiX,EAAAjX,KAAA,EAIqBwS,MAAMpH,GAAN,UAAqB,WAAA,OAAM,IAAN,IAJ1C,KAAA,EAII8I,EAJJ+C,EAAA/R,KAAA,KAAA,EAAA,GAME6K,OAAOR,MAAMtE,MAAb,iBAAAwC,OAAoCvC,EAAI2K,WACxC9F,OAAOvB,KAAP,gBAAAf,OAA4BrC,EAAQF,MACpCuB,QAAQoB,IAAIqG,GAEW,QAAnB9I,EAAQ1G,QAAqC,UAAhBwG,EAAIiM,SAVvC,CAAAF,EAAAjX,KAAA,GAAA,KAAA,CAAA,OAAAiX,EAAAjX,KAAA,GAWwBwQ,OAAOC,KAAKjG,WAAa,YAXjD,KAAA,GAAAyM,EAAA/R,KAYU+L,IAAI7F,EAAS8I,EAASkD,SAA5B,UAA2C,SAAAvQ,GACzCkJ,OAAOlJ,MAAM,oBAAsBA,EAAMsM,OAAStM,IAC/B,uBAAfA,EAAMlE,OACR6N,OAAM,UAAQhG,WAAa,YAC3BuF,OAAOrB,MAAM,iBAEhB,IACDqB,OAAOrB,MAAP,eAAAjB,OAA4BrC,EAAQF,MAnBxC+L,EAAAjX,KAAA,GAAA,MAAA,KAAA,GAqBI+P,OAAOtB,KAAP,mBAAAhB,OAA+BrC,EAAQF,MArB3C,KAAA,GAAA,OAuBE6E,OAAOR,MAAMC,MAvBfyH,EAAA5R,OAAA,SAwBS6O,GAxBT,KAAA,GAAA,IAAA,MAAA,OAAA+C,EAAAhO,OAAA,GAAA+N,EAAA,MAujBuBlW,MAAM+E,KAAM5E,UACnC,CA7hBA,IAAMiW,SAAQ,WAAA,IAAAG,EAAAjN,kBAAAnH,sBAAAqF,MAAG,SAAAgP,EAAOC,GAAP,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA9M,EAAA+M,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAxH,EAAAyH,EAAAC,EAAA,OAAAvV,sBAAAY,MAAA,SAAA4U,GAAA,OAAA,OAAAA,EAAA1P,KAAA0P,EAAAzY,MAAA,KAAA,EAAA,GACTwX,EAAMkB,UADGjB,EAEqBD,EAAImB,YAAcnB,EAAIoB,eAAiBpB,EAAIqB,kBAAoB,CAAA,EAA3FnB,EAFOD,EAEPC,SAAUC,EAFHF,EAEGE,eACdD,IAAY,KAAK7U,KAAK8U,GAHX,CAAAc,EAAAzY,KAAA,EAAA,KAAA,CAAA,OAIb+P,OAAOtB,KAAK,mCAJCgK,EAAApT,OAAA,SAKNmN,MAAM+E,IALA,KAAA,EAYf,GALMK,EAAO,GACTC,EAAS,IAAIjC,IAAI2B,EAAIrM,KACrB4M,EAAWD,EAAOhC,SAAStE,MAAM,KAAK,GACtCwG,EAAc,GAEdrN,WAAa,IAAIoO,OAAOC,SAASC,QAAQnW,KAAK0U,EAAIrM,KAAM,CAE1D,IAAW9J,KADX2O,OAAOR,MAAMb,MAAM,qBAAuB6I,EAAIrM,KAC5BO,IAAIQ,IAChBf,EAAMO,IAAIQ,IAAI7K,GAAO,IAAMuJ,WAAa,IAAMC,kBAAoB2M,EAAIrM,IAAI0E,QAAQmJ,SAASC,OAAQ,IACvG9N,EAAM+N,SAASA,SAAS/N,IACxBuB,QAAQoB,IAAI3C,GACZ0M,EAAK/W,KAAKqK,GAEZ6E,OAAOR,MAAMC,KACd,CArBc,GAsBVoI,EAAK5Y,OAtBK,CAAAyZ,EAAAzY,KAAA,GAAA,KAAA,CAAAiY,EAAA1Z,2BAuBMgO,gBAvBNkM,EAAA1P,KAAA,GAAAkP,EAAA9Y,IAAA,KAAA,GAAA,IAAA+Y,EAAAD,EAAA7Y,KAAAC,KAAA,CAAAoZ,EAAAzY,KAAA,GAAA,KAAA,CAAA,GAuBFmY,EAvBED,EAAA5Y,OAwBP,IAAIwZ,OAAOX,EAAK/W,KAAKyB,KAAK0U,EAAIrM,KAxBvB,CAAAuN,EAAAzY,KAAA,GAAA,KAAA,CAAA,OAyBT8X,EAAWK,EAAK3S,KAChBuS,EAAc,IAAIe,OAAOX,EAAK/W,KAAK8X,KAAK3B,EAAIrM,KAAK,GA1BxCuN,EAAApT,OAAA,QAAA,IAAA,KAAA,GAAAoT,EAAAzY,KAAA,GAAA,MAAA,KAAA,GAAAyY,EAAAzY,KAAA,GAAA,MAAA,KAAA,GAAAyY,EAAA1P,KAAA,GAAA0P,EAAAvG,GAAAuG,EAAA,SAAA,IAAAR,EAAA1Y,EAAAkZ,EAAAvG,IAAA,KAAA,GAAA,OAAAuG,EAAA1P,KAAA,GAAAkP,EAAAxY,IAAAgZ,EAAA7O,OAAA,IAAA,KAAA,GA8Bb,IAAWpE,KAAQiG,IACjB,GAAIjG,IAASsS,EAAU,CAErB,IAAW1W,KADX2O,OAAOR,MAAMb,MAAM,aAAAjB,OAAaqK,EAAb,MAA4BP,EAAIrM,KACjCO,IAAIjG,GACd0F,EAAMO,IAAIjG,GAAMpE,GAAOmW,EAAIrM,IAAI0E,QAAQmI,EAAa,IAC1DtL,QAAQoB,IAAI3C,GACZ0M,EAAK/W,KAAKqK,GAEZ6E,OAAOR,MAAMC,KACd,CAvCU,KAAA,GAAA,OA6CbsB,EADE8G,EAAK5Y,OACDyT,SAASmF,GAETpF,MAAM+E,KACH7M,WAAa,IAAIoO,OAAOC,SAASC,QAAQnW,KAAK0U,EAAIrM,OACrDqN,EAAMU,SAASA,SAAS1B,EAAIrM,MAAMqG,MAAM,KAAK1I,MAC7C2P,EAAcW,eAAeZ,GACnCzH,EAAMA,EACHnK,MAAK,SAAAmK,GAAG,OAAIA,EAAIsI,aAAR,IACRzS,MAAK,SAAA0S,GAAM,OAAI,IAAInI,SAASmI,EAAQ,CACnCC,QAAS,CACP,eAAgBd,IAFR,IAFR,UAOG,WAAA,OAAM,IAAN,KA1DIC,EAAApT,OAAA,SA4DRyL,GA5DQ,KAAA,GAAA,IAAA,MAAA,OAAA2H,EAAAxP,OAAA,GAAAqO,EAAA,KAAA,CAAA,CAAA,GAAA,GAAA,GAAA,KAAA,KAAH,OAAA,SAAAiC,GAAA,OAAAlC,EAAAvW,MAAA+E,KAAA5E,UAAA,CAAA,CAAA,GA+DRgY,SAAW,SAAC/N,GAEhB,IADAA,EAAMA,EAAIqG,MAAM,KAAK,GAAGA,MAAM,KAAK,IAC3BiI,SAAS,KACftO,GAAO,iBACF,CACL,IAAMuO,EAAOvO,EAAIqG,MAAM,MAEI,IADdkI,EAAKA,EAAKza,OAAS,GACvB0a,QAAQ,OACfxO,GAAO,QAEV,CACD,OAAOA,CACR,EA4mBD,SA3mBeyO,SA2mBGC,GAChB,OAAOC,UAAU/Y,MAAM+E,KAAM5E,UAC/B,CAEA,SAAS4Y,YAyBP,OAxBAA,UAAYzP,kBAAgCnH,sBAAsBqF,MAhnBpE,SAAAwR,EAAwBhJ,GAAxB,OAAA7N,sBAAAY,MAAA,SAAAkW,GAAA,OAAA,OAAAA,EAAAhR,KAAAgR,EAAA/Z,MAAA,KAAA,EAAA,OAAA+Z,EAAA7H,GACahB,SADb6I,EAAA/Z,KAAA,EAC4B8Q,EAAIsI,cADhC,KAAA,EAAA,OAAAW,EAAAhH,GAAAgH,EAAA7U,KAAA6U,EAAA/G,GAC+C,CAC3CgH,OAAQlJ,EAAIkJ,OACZV,QAASxI,EAAIwI,SAHjBS,EAAA1U,OAAA,SAAA,IAAA0U,EAAA7H,GAAA6H,EAAAhH,GAAAgH,EAAA/G,KAAA,KAAA,EAAA,IAAA,MAAA,OAAA+G,EAAA9Q,OAAA,GAAA6Q,EAAA,MAwoBmBhZ,MAAM+E,KAAM5E,UAC/B,CAloBA,SAASgZ,mBACPtR,QAAQuR,IAAM,SAAUC,GACtB,OAAO,IAAIxR,SAAQ,SAACpC,EAASC,GAE3B,IAAI1D,GADJqX,EAAWtb,MAAMC,QAAQqb,GAAYA,EAAW,IAC7Bnb,OACfob,EAAO,GACX,GAAY,IAARtX,EAAW,OAAO0D,EAAO,IAAI6T,eAAe,+BAChDF,EAAShZ,SAAQ,SAACmZ,GACZA,aAAa3R,QACf2R,EAAE3T,MACA,SAACmK,GAAD,OAASvK,EAAQuK,EAAjB,IACA,SAACnR,GACCmD,IACAsX,EAAKvZ,KAAKlB,GACE,IAARmD,GAAW0D,EAAO,IAAI6T,eAAeD,GAC1C,IAGH5T,EAAO8T,EAEV,GACF,GACF,CACF,CAED,SAAS7H,SAASmF,GAChB,IAAM2C,EAAa,IAAIC,gBACjBC,EAASF,EAAWE,OAEpBC,EAAa9C,EAAK7C,KAAI,SAAC7J,GAC3B,OAAO,IAAIvC,SAAQ,SAACpC,EAASC,GAC3BgM,MAAMtH,EAAK,CAAEuP,OAAAA,IACV9T,KAAKgT,UACLhT,MAAK,SAACmK,GACL,IAAMZ,EAAIY,EAAIsG,QACG,MAAblH,EAAE8J,QAAgBxT,EAAO,MAC7B+T,EAAWI,QACXpU,EAAQ2J,EACT,IAPH,UAQS,WAAA,OAAM1J,EAAO,KAAb,GACV,GACF,IAID,OAFKmC,QAAQuR,KAAKD,mBAEXtR,QAAQuR,IAAIQ,GAChB/T,MAAK,SAACmK,GAAD,OAASA,CAAT,IADD,UAEE,WAAA,OAAM,IAAN,GACV,CAED,IAAMqI,eAAiB,SAACZ,GACtB,OAAQA,GACN,IAAK,KACH,MAAO,kBACT,IAAK,OACH,MAAO,YACT,IAAK,MACH,MAAO,WACT,IAAK,OAkBL,IAAK,MACH,MAAO,mBAjBT,IAAK,OACH,MAAO,aACT,IAAK,MACH,MAAO,YACT,IAAK,OACH,MAAO,aACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MAEL,IAAK,MACH,MAAO,WACT,IAAK,cACH,MAAO,mBAGT,IAAK,QAEL,IAAK,OACH,MAAO,qBACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,2BACT,IAAK,OAEL,IAAK,MACH,MAAO,aACT,IAAK,MAEL,IAAK,OACH,MAAO,gBACT,IAAK,OACH,MAAO,wBACT,IAAK,QACH,MAAO,yBACT,IAAK,MACH,MAAO,uBACT,IAAK,MACH,MAAO,uBACT,IAAK,MACH,MAAO,gCACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,oBACT,IAAK,KACH,MAAO,mBACT,IAAK,MACH,MAAO,sBACT,IAAK,MACH,MAAO,+BACT,IAAK,KACH,MAAO,8BACT,IAAK,MACH,MAAO,qBACT,IAAK,OACH,MAAO,0EACT,IAAK,MACH,MAAO,2BACT,IAAK,OACH,MAAO,oEACT,IAAK,MACH,MAAO,gCACT,IAAK,OACH,MAAO,4EACT,IAAK,MACH,MAAO,kBACT,IAAK,MAkEL,QACE,MAAO,aAjET,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,aACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,kBACT,IAAK,MACH,MAAO,iBACT,IAAK,MACH,MAAO,cACT,IAAK,MACH,MAAO,gCACT,IAAK,MAEL,IAAK,OAEL,IAAK,MAEL,IAAK,MAEL,IAAK,MACH,MAAO,aACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,YACT,IAAK,MACH,MAAO,kBACT,IAAK,OACH,MAAO,gCACT,IAAK,MACH,MAAO,gBACT,IAAK,MACH,MAAO,oBACT,IAAK,MACH,MAAO,iBACT,IAAK,OACH,MAAO,aACT,IAAK,MAEL,IAAK,OAEL,IAAK,OACH,MAAO,eACT,IAAK,KAEL,IAAK,MACH,MAAO,cACT,IAAK,MAEL,IAAK,OAEL,IAAK,MACH,MAAO,aAIZ","file":"../volantis-sw.js","sourcesContent":["// 全站打包上传 npm，sw 并发请求 cdn\nconst prefix = 'volantis-community';\nconst cacheSuffixVersion = '00000006-::cacheSuffixVersion::';\nconst CACHE_NAME = prefix + '-v' + cacheSuffixVersion;\nconst PreCachlist = [\n  \"/css/style.css\",\n  \"/js/app.js\",\n  \"/js/search/hexo.js\",\n];\nlet NPMMirror = true;\nconst NPMPackage = \"@mhg/volantis-community\";\nlet NPMPackageVersion = \"1.0.1661824222845\";\nlet debug = true;\n// location.hostname == 'localhost' && (debug = true) && (NPMMirror = false);\nconst handleFetch = async (event) => {\n  const url = event.request.url;\n  if (/nocache/.test(url)) {\n    return NetworkOnly(event)\n  } else if (/@latest/.test(url)) {\n    return CacheFirst(event)\n  } else if (/cdnjs\\.cloudflare\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/music\\.126\\.net/.test(url)) {\n    return CacheAlways(event)\n  } else if (/qqmusic\\.qq\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/jsdelivr\\.net/.test(url)) {\n    return CacheAlways(event)\n  } else if (/npm\\.elemecdn\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/unpkg\\.com/.test(url)) {\n    return CacheAlways(event)\n  } else if (/.*\\.(?:png|jpg|jpeg|svg|gif|webp|ico|eot|ttf|woff|woff2|mp3)$/.test(url)) {\n    return CacheAlways(event)\n  } else if (/.*\\.(css|js)$/.test(url)) {\n    return CacheAlways(event)\n  } else {\n    return CacheFirst(event)\n  }\n}\nconst cdn = {\n  gh: {\n    jsdelivr: 'https://cdn.jsdelivr.net/gh',\n    fastly: 'https://fastly.jsdelivr.net/gh',\n    gcore: 'https://gcore.jsdelivr.net/gh',\n    testingcf: 'https://testingcf.jsdelivr.net/gh',\n    test1: 'https://test1.jsdelivr.net/gh',\n  },\n  combine: {\n    jsdelivr: 'https://cdn.jsdelivr.net/combine',\n    fastly: 'https://fastly.jsdelivr.net/combine',\n    gcore: 'https://gcore.jsdelivr.net/combine',\n    testingcf: 'https://testingcf.jsdelivr.net/combine',\n    test1: 'https://test1.jsdelivr.net/combine',\n  },\n  npm: {\n    jsdelivr: 'https://cdn.jsdelivr.net/npm',\n    fastly: 'https://fastly.jsdelivr.net/npm',\n    gcore: 'https://gcore.jsdelivr.net/npm',\n    testingcf: 'https://testingcf.jsdelivr.net/npm',\n    test1: 'https://test1.jsdelivr.net/npm',\n    unpkg: 'https://unpkg.com',\n  },\n  cdnjs: {\n    cdnjs: 'https://cdnjs.cloudflare.com/ajax/libs',\n    baomitu: 'https://lib.baomitu.com',\n    bootcdn: 'https://cdn.bootcdn.net/ajax/libs',\n    bytedance: 'https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M',\n  }\n}\nconst cdn_match_list = []\nfor (const type in cdn) {\n  for (const key in cdn[type]) {\n    cdn_match_list.push({ type: type, key: cdn[type][key] })\n  }\n}\nconst _console = console;\nconst color = {\n  black: '#000000',\n  red: '#FF0000',\n  green: '#008000',\n  yellow: '#FFFF00',\n  blue: '#0000FF',\n  magenta: '#FF00FF',\n  cyan: '#00FFFF',\n  white: '#FFFFFF',\n};\nconst add = (...arr) => {\n  let fi = [\n    []\n  ];\n  for (let key = 0; key < arr.length; key++) {\n    const [first, ...other] = arr[key];\n    fi[0] += first;\n    fi = fi.concat(other);\n  }\n  return fi;\n};\nconst createlog = (util) => (...args) => {\n  // const fun = _console[util] ? _console[util] : _console.log;\n  const fun = util == \"error\" ? _console[util] : _console.log;\n  fun.apply(void 0, args);\n};\nconst creategroup = (util) => (...args) => {\n  const fun = _console.groupCollapsed;\n  fun.apply(void 0, args);\n};\nconst colorUtils = {\n  bold: (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return `${str};font-weight: bold;`;\n    }\n    for (let key = 1; key < str.length; key++) {\n      str[key] += `;font-weight: bold;`;\n    }\n    return str;\n  }\n};\nconst colorHash = {\n  log: 'black',\n  wait: 'cyan',\n  error: 'red',\n  warn: 'yellow',\n  ready: 'green',\n  info: 'blue',\n  event: 'magenta',\n};\nconst createChalk = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    createlog(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  createlog(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst createChalkBg = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    createlog(name)(...add(colorUtils.bold(colorUtils[`bg${firstToUpperCase(colorHash[name])}`](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  createlog(name)(...add(colorUtils.bold(colorUtils[`bg${firstToUpperCase(colorHash[name])}`](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst createChalkGroup = (name) => (...str) => {\n  if (typeof str[0] === 'object') {\n    creategroup(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), ...str));\n    return;\n  }\n  let strArr = str;\n  if (typeof str === 'string' || typeof str === 'number') {\n    strArr = colorUtils[colorHash[name]](str);\n  }\n  creategroup(name)(...add(colorUtils.bold(colorUtils[colorHash[name]](`[${firstToUpperCase(name)}] `)), strArr));\n};\nconst chalk = {\n  group: {\n    end: _console.groupEnd\n  },\n  bg: {}\n};\nObject.keys(colorHash).forEach(key => {\n  chalk[key] = createChalk(key);\n  chalk.group[key] = createChalkGroup(key);\n  chalk.bg[key] = createChalkBg(key);\n});\nconst firstToUpperCase = (str) => str.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\nObject.keys(color).forEach(key => {\n  colorUtils[key] = (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return [`%c${str}`, `color:${color[key]}`];\n    }\n    for (let i = 1; i < str.length; i++) {\n      str[i] += `;color:${color[key]}`;\n    }\n    return str;\n  };\n  colorUtils[`bg${firstToUpperCase(key)}`] = (str) => {\n    if (typeof str === 'string' || typeof str === 'number') {\n      return [`%c${str}`, `padding: 2px 4px; border-radius: 3px; color: ${key === 'white' ? '#000' : '#fff'}; font-weight: bold; background:${color[key]};`];\n    }\n    for (let i = 1; i < str.length; i++) {\n      str[i] += `;padding: 2px 4px; border-radius: 3px; font-weight: bold; background:${color[key]};`;\n    }\n    return str;\n  };\n});\nself.logger = {\n  add,\n  ...chalk,\n  ...colorUtils,\n};\n\nif (!debug) {\n  logger = {\n    log: () => { },\n    wait: () => { },\n    error: () => { },\n    warn: () => { },\n    ready: () => { },\n    info: () => { },\n    event: () => { },\n    group: {\n      log: () => { },\n      wait: () => { },\n      error: () => { },\n      warn: () => { },\n      ready: () => { },\n      info: () => { },\n      event: () => { },\n      end: () => { },\n    },\n    bg: {\n      log: () => { },\n      wait: () => { },\n      error: () => { },\n      warn: () => { },\n      ready: () => { },\n      info: () => { },\n      event: () => { },\n    }\n  };\n  console.log = () => { };\n}\n\nconst generate_uuid = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\nself.db = {\n  read: (key, config) => {\n    if (!config) { config = { type: \"text\" } }\n    return new Promise((resolve, reject) => {\n      caches.open(CACHE_NAME).then(cache => {\n        cache.match(new Request(`https://LOCALCACHE/${encodeURIComponent(key)}`)).then(function (res) {\n          if (!res) resolve(null)\n          res.text().then(text => resolve(text))\n        }).catch(() => {\n          resolve(null)\n        })\n      })\n    })\n  },\n  write: (key, value) => {\n    return new Promise((resolve, reject) => {\n      caches.open(CACHE_NAME).then(function (cache) {\n        cache.put(new Request(`https://LOCALCACHE/${encodeURIComponent(key)}`), new Response(value));\n        resolve()\n      }).catch(() => {\n        reject()\n      })\n    })\n  }\n}\nconst compareVersion = (a, b) => {\n  let v1 = a.split('.');\n  let v2 = b.split('.');\n  const len = Math.max(v1.length, v2.length);\n  while (v1.length < len) {\n    v1.push('0');\n  }\n  while (v2.length < len) {\n    v2.push('0');\n  }\n  for (let i = 0; i < len; i++) {\n    const num1 = parseInt(v1[i]);\n    const num2 = parseInt(v2[i]);\n    if (num1 > num2) {\n      return a;\n    } else if (num1 < num2) {\n      return b;\n    }\n  }\n  return a;\n}\n\nconst mirrors = [\n  `https://registry.npmjs.org/${NPMPackage}/latest`,\n  `https://registry.npmmirror.com/${NPMPackage}/latest`,\n  `https://mirrors.cloud.tencent.com/npm/${NPMPackage}/latest`\n]\nconst getLocalVersion = async () => {\n  NPMPackageVersion = await db.read('blog_version') || NPMPackageVersion\n  logger.bg.info(`Local Version: ${NPMPackage}@${NPMPackageVersion}`)\n}\nlet mirror_time = 0;\nconst setNewestVersion = async () => {\n  if (!NPMMirror) {\n    return\n  }\n  let f = null;\n  if (!(mirror_time % (mirrors.length + 1))) {\n    f = fetchAny(mirrors);\n  } else {\n    f = fetch(mirrors[(mirror_time % (mirrors.length + 1)) - 1]);\n  }\n  mirror_time++;\n  return f\n    .then(res => res.json())\n    .then(async res => {\n      if (!res.version) throw ('No Version Found!')\n      NPMPackageVersion = compareVersion(res.version, await db.read('blog_version') || NPMPackageVersion)\n      logger.bg.ready(`${NPMPackage}@${NPMPackageVersion}`)\n      await db.write('blog_version', NPMPackageVersion)\n    })\n    .catch(error => {\n      logger.error('[Set Newest Version] ' + (error.stack || error))\n    })\n}\nsetInterval(async () => {\n  await setNewestVersion()\n}, 60 * 1000);\nsetTimeout(async () => {\n  await setNewestVersion()\n}, 5000)\nconst installFunction = async () => {\n  await getLocalVersion();\n  return caches.open(CACHE_NAME + \"-precache\")\n    .then(async function (cache) {\n      if (!await db.read('uuid')) {\n        await db.write('uuid', generate_uuid())\n      }\n      if (PreCachlist.length) {\n        logger.group.event(`Precaching ${PreCachlist.length} files.`);\n        let index = 0;\n        PreCachlist.forEach(function (url) {\n          cache.match(new Request(url)).then(function (response) {\n            if (response) {\n              logger.ready(`Precaching ${url}`);\n            } else {\n              logger.wait(`Precaching ${url}`);\n              cache.add(new Request(url));\n            }\n            index++;\n            if (index === PreCachlist.length) {\n              logger.ready(`Precached ${PreCachlist.length} files.`);\n              logger.group.end();\n            }\n          })\n        })\n      }\n    }).catch((error) => {\n      logger.error('[install] ' + (error.stack || error));\n    })\n}\nself.addEventListener('install', async function (event) {\n  logger.bg.event(\"service worker install event listening\");\n  try {\n    self.skipWaiting();\n    event.waitUntil(installFunction());\n    logger.bg.ready('service worker install sucess!');\n  } catch (error) {\n    logger.error('[install] ' + (error.stack || error));\n  }\n});\nself.addEventListener('activate', async event => {\n  logger.bg.event(\"service worker activate event listening\");\n  try {\n    event.waitUntil(\n      caches.keys().then((keys) => {\n        return Promise.all(keys.map((key) => {\n          if (!key.includes(cacheSuffixVersion)) {\n            caches.delete(key);\n            logger.bg.ready('Deleted Outdated Cache: ' + key);\n          }\n        }));\n      }).catch((error) => {\n        logger.error('[activate] ' + (error.stack || error));\n      })\n    );\n    await self.clients.claim()\n    logger.bg.ready('service worker activate sucess!');\n  } catch (error) {\n    logger.error('[activate] ' + (error.stack || error));\n  }\n})\nself.addEventListener('fetch', async event => {\n  event.respondWith(\n    handleFetch(event).catch((error) => {\n      logger.error('[fetch] ' + event.request.url + '\\n[error] ' + (error.stack || error));\n    })\n  )\n});\n\n\nconst NetworkOnly = async (event) => {\n  logger.group.info('NetworkOnly: ' + new URL(event.request.url).pathname);\n  logger.wait('service worker fetch: ' + event.request.url)\n  logger.group.end();\n  return fetch(event.request)\n}\nconst CacheFirst = async (event) => {\n  return caches.match(event.request).then(function (resp) {\n    logger.group.info('CacheFirst: ' + new URL(event.request.url).pathname);\n    logger.wait('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      event.waitUntil(CacheRuntime(event.request))\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\nconst CacheAlways = async (event) => {\n  return caches.match(event.request).then(function (resp) {\n    logger.group.info('CacheAlways: ' + new URL(event.request.url).pathname);\n    logger.wait('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\n\nconst matchCache = async (event) => {\n  return caches.match(event.request).then(function (resp) {\n    logger.group.info('service worker fetch: ' + event.request.url)\n    if (resp) {\n      logger.group.ready(`Cache Hit`);\n      console.log(resp)\n      logger.group.end();\n      logger.group.end();\n      return resp;\n    } else {\n      logger.warn(`Cache Miss`);\n      logger.group.end();\n      return CacheRuntime(event.request)\n    }\n  })\n}\nasync function CacheRuntime(request) {\n  const url = new URL(request.url);\n  let response = await matchCDN(request);\n  if (!response) {\n    response = await fetch(request).catch(() => null)\n  }\n  logger.group.event(`Cache Runtime ${url.pathname}`);\n  logger.wait(`Caching url: ${request.url}`);\n  console.log(response);\n\n  if (request.method === \"GET\" && (url.protocol == \"https:\")) {\n    const cache = await caches.open(CACHE_NAME + \"-runtime\");\n    cache.put(request, response.clone()).catch(error => {\n      logger.error('[Cache Runtime] ' + (error.stack || error));\n      if (error.name === 'QuotaExceededError') {\n        caches.delete(CACHE_NAME + \"-runtime\");\n        logger.ready(\"deleted cache\")\n      }\n    })\n    logger.ready(`Cached url: ${request.url}`);\n  } else {\n    logger.warn(`Not Cached url: ${request.url}`);\n  }\n  logger.group.end();\n  return response;\n}\n\nconst matchCDN = async (req) => {\n  const nav = navigator\n  const { saveData, effectiveType } = nav.connection || nav.mozConnection || nav.webkitConnection || {}\n  if (saveData || /2g/.test(effectiveType)) {\n    logger.warn(\"Slow Network: Transparent Proxy\");\n    return fetch(req);\n  }\n  const urls = []\n  let urlObj = new URL(req.url)\n  let pathType = urlObj.pathname.split('/')[1]\n  let pathTestRes = \"\";\n\n  if (NPMMirror && new RegExp(location.origin).test(req.url)) {\n    logger.group.ready(`Match NPM Mirror: ` + req.url);\n    for (const key in cdn.npm) {\n      let url = cdn.npm[key] + \"/\" + NPMPackage + \"@\" + NPMPackageVersion + req.url.replace(location.origin, '')\n      url = fullPath(fullPath(url))\n      console.log(url);\n      urls.push(url)\n    }\n    logger.group.end()\n  }\n  if (!urls.length) {\n    for (const item of cdn_match_list) {\n      if (new RegExp(item.key).test(req.url)) {\n        pathType = item.type\n        pathTestRes = new RegExp(item.key).exec(req.url)[0]\n        break;\n      }\n    }\n    for (const type in cdn) {\n      if (type === pathType) {\n        logger.group.ready(`Match CDN ${pathType}: ` + req.url);\n        for (const key in cdn[type]) {\n          const url = cdn[type][key] + req.url.replace(pathTestRes, '')\n          console.log(url);\n          urls.push(url)\n        }\n        logger.group.end()\n      }\n    }\n  }\n\n  let res;\n  if (urls.length)\n    res = fetchAny(urls)\n  else\n    res = fetch(req)\n  if (res && NPMMirror && new RegExp(location.origin).test(req.url)) {\n    const ext = fullPath(fullPath(req.url)).split('.').pop()\n    const contentType = getContentType(ext)\n    res = res\n      .then(res => res.arrayBuffer())\n      .then(buffer => new Response(buffer, {\n        headers: {\n          \"Content-Type\": contentType\n        }\n      }))\n      .catch(() => null)\n  }\n  return res\n}\n\nconst fullPath = (url) => {\n  url = url.split('?')[0].split('#')[0]\n  if (url.endsWith('/')) {\n    url += 'index.html'\n  } else {\n    const list = url.split('/')\n    const last = list[list.length - 1]\n    if (last.indexOf('.') === -1) {\n      url += '.html'\n    }\n  }\n  return url\n}\nasync function progress(res) {\n  return new Response(await res.arrayBuffer(), {\n    status: res.status,\n    headers: res.headers\n  })\n}\n\nfunction createPromiseAny() {\n  Promise.any = function (promises) {\n    return new Promise((resolve, reject) => {\n      promises = Array.isArray(promises) ? promises : []\n      let len = promises.length\n      let errs = []\n      if (len === 0) return reject(new AggregateError('All promises were rejected'))\n      promises.forEach((p) => {\n        if (p instanceof Promise) {\n          p.then(\n            (res) => resolve(res),\n            (err) => {\n              len--\n              errs.push(err)\n              if (len === 0) reject(new AggregateError(errs))\n            }\n          )\n        } else {\n          reject(p)\n        }\n      })\n    })\n  }\n}\n\nfunction fetchAny(urls) {\n  const controller = new AbortController()\n  const signal = controller.signal\n\n  const PromiseAll = urls.map((url) => {\n    return new Promise((resolve, reject) => {\n      fetch(url, { signal })\n        .then(progress)\n        .then((res) => {\n          const r = res.clone()\n          if (r.status !== 200) reject(null)\n          controller.abort()\n          resolve(r)\n        })\n        .catch(() => reject(null))\n    })\n  })\n\n  if (!Promise.any) createPromiseAny()\n\n  return Promise.any(PromiseAll)\n    .then((res) => res)\n    .catch(() => null)\n}\n\nconst getContentType = (ext) => {\n  switch (ext) {\n    case 'js':\n      return 'text/javascript'\n    case 'html':\n      return 'text/html'\n    case 'css':\n      return 'text/css'\n    case 'json':\n      return 'application/json'\n    case 'webp':\n      return 'image/webp'\n    case 'jpg':\n      return 'image/jpg'\n    case 'jpeg':\n      return 'image/jpeg'\n    case 'png':\n      return 'image/png'\n    case 'gif':\n      return 'image/gif'\n    case 'xml':\n      return 'text/xml'\n    case 'xsl':\n      return 'text/xml'\n    case 'webmanifest':\n      return 'text/webmanifest'\n    case 'map':\n      return 'application/json'\n    case 'bcmap':\n      return 'image/vnd.wap.wbmp'\n    case 'wbmp':\n      return 'image/vnd.wap.wbmp'\n    case 'bmp':\n      return 'image/bmp'\n    case 'ico':\n      return 'image/vnd.microsoft.icon'\n    case 'tiff':\n      return 'image/tiff'\n    case 'tif':\n      return 'image/tiff'\n    case 'svg':\n      return 'image/svg+xml'\n    case 'svgz':\n      return 'image/svg+xml'\n    case 'woff':\n      return 'application/font-woff'\n    case 'woff2':\n      return 'application/font-woff2'\n    case 'ttf':\n      return 'application/font-ttf'\n    case 'otf':\n      return 'application/font-otf'\n    case 'eot':\n      return 'application/vnd.ms-fontobject'\n    case 'zip':\n      return 'application/zip'\n    case 'tar':\n      return 'application/x-tar'\n    case 'gz':\n      return 'application/gzip'\n    case 'bz2':\n      return 'application/x-bzip2'\n    case 'rar':\n      return 'application/x-rar-compressed'\n    case '7z':\n      return 'application/x-7z-compressed'\n    case 'doc':\n      return 'application/msword'\n    case 'docx':\n      return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n    case 'xls':\n      return 'application/vnd.ms-excel'\n    case 'xlsx':\n      return 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n    case 'ppt':\n      return 'application/vnd.ms-powerpoint'\n    case 'pptx':\n      return 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n    case 'pdf':\n      return 'application/pdf'\n    case 'txt':\n      return 'text/plain'\n    case 'rtf':\n      return 'application/rtf'\n    case 'mp3':\n      return 'audio/mpeg'\n    case 'wav':\n      return 'audio/x-wav'\n    case 'ogg':\n      return 'audio/ogg'\n    case 'mp4':\n      return 'video/mp4'\n    case 'm4v':\n      return 'video/x-m4v'\n    case 'mov':\n      return 'video/quicktime'\n    case 'avi':\n      return 'video/x-msvideo'\n    case 'wmv':\n      return 'video/x-ms-wmv'\n    case 'flv':\n      return 'video/x-flv'\n    case 'swf':\n      return 'application/x-shockwave-flash'\n    case 'mpg':\n      return 'video/mpeg'\n    case 'mpeg':\n      return 'video/mpeg'\n    case 'mpe':\n      return 'video/mpeg'\n    case 'mpv':\n      return 'video/mpeg'\n    case 'm2v':\n      return 'video/mpeg'\n    case 'm4a':\n      return 'audio/mp4'\n    case 'aac':\n      return 'audio/aac'\n    case 'm3u':\n      return 'audio/x-mpegurl'\n    case 'm3u8':\n      return 'application/vnd.apple.mpegurl'\n    case 'pls':\n      return 'audio/x-scpls'\n    case 'cue':\n      return 'application/x-cue'\n    case 'wma':\n      return 'audio/x-ms-wma'\n    case 'flac':\n      return 'audio/flac'\n    case 'aif':\n      return 'audio/x-aiff'\n    case 'aiff':\n      return 'audio/x-aiff'\n    case 'aifc':\n      return 'audio/x-aiff'\n    case 'au':\n      return 'audio/basic'\n    case 'snd':\n      return 'audio/basic'\n    case 'mid':\n      return 'audio/midi'\n    case 'midi':\n      return 'audio/midi'\n    case 'kar':\n      return 'audio/midi'\n    default:\n      return 'text/plain'\n  }\n}\n\n"]}